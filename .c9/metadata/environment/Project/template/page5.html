{"filter":false,"title":"page5.html","tooltip":"/Project/template/page5.html","undoManager":{"mark":46,"position":46,"stack":[[{"start":{"row":0,"column":0},"end":{"row":548,"column":7},"action":"remove","lines":["<!DOCTYPE html>","<html  >","<head>","","  <meta charset=\"UTF-8\">","  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">","  <meta name=\"generator\" content=\"Mobirise v5.8.14, mobirise.com\">","  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, minimum-scale=1\">","  <link rel=\"shortcut icon\" href=\"static/images/mojji-logo-3-223x228.png\" type=\"image/x-icon\">","  <meta name=\"description\" content=\"\">","  ","  ","  <title>사용자선택</title>","  <link rel=\"stylesheet\" href=\"static/bootstrap/css/bootstrap.min.css\">","  <link rel=\"stylesheet\" href=\"static/bootstrap/css/bootstrap-grid.min.css\">","  <link rel=\"stylesheet\" href=\"static/bootstrap/css/bootstrap-reboot.min.css\">","  <link rel=\"stylesheet\" href=\"static/animatecss/animate.css\">","  <link rel=\"stylesheet\" href=\"static/dropdown/css/style.css\">","  <link rel=\"stylesheet\" href=\"static/socicon/css/styles.css\">","  <link rel=\"stylesheet\" href=\"static/theme/css/style.css\">","  <link href=\"static/fonts/style.css\" rel=\"stylesheet\">","  <link rel=\"preload\" href=\"https://fonts.googleapis.com/css?family=Pangolin:400&display=swap\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\">","  <noscript><link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Pangolin:400&display=swap\"></noscript>","  <link rel=\"preload\" as=\"style\" href=\"static/mobirise/css/mbr-additional.css\"><link rel=\"stylesheet\" href=\"static/mobirise/css/mbr-additional.css\" type=\"text/css\">","  ","</head>","<body>","  ","  <section data-bs-version=\"5.1\" class=\"menu cid-s48OLK6784\" once=\"menu\" id=\"menu1-23\">","    ","    <nav class=\"navbar navbar-dropdown navbar-fixed-top navbar-expand-lg\">","        <div class=\"container-fluid\">","            <div class=\"navbar-brand\">","                <span class=\"navbar-logo\">","                    <a href=\"/\">","                        <img src=\"static/images/mojji-logo-3-223x228.webp\" alt=\"\" style=\"height: 3.8rem;\">","                    </a>","                </span>","                <span class=\"navbar-caption-wrap\"><a class=\"navbar-caption text-secondary display-1\" href=\"/\">MOJJI</a></span>","            </div>","            <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-bs-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">","                <div class=\"hamburger\">","                    <span></span>","                    <span></span>","                    <span></span>","                    <span></span>","                </div>","            </button>","            <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">","                <ul class=\"navbar-nav nav-dropdown nav-right\" data-app-modern-menu=\"true\"><li class=\"nav-item\"><a class=\"nav-link link text-black text-primary display-7\" href=\"/#top\">로그인</a></li>","                    <li class=\"nav-item\"><a class=\"nav-link link text-black text-primary display-7\" href=\"/#top\">회원가입</a></li></ul>","                ","                ","            </div>","        </div>","    </nav>","","</section>","","<section data-bs-version=\"5.1\" class=\"content1 cid-tKfhiB52DE\" id=\"content1-25\">","    <div class=\"container\">","        <div class=\"mbr-section-head\" style=\"margin-top: 100px; margin-bottom: 70px;\">","    <div class=\"container animate__animated animate__delay-1s animate__fadeInUp\" style=\"text-align: center;\">","            <h4 class=\"mbr-section-title mbr-fonts-style align-center mb-0 display-1 custom-heading\">","                <strong>✨MOJJI</strong>","            </h4>","            <h4 class=\"mbr-section-title mbr-fonts-style align-center mb-0 display-2 custom-heading\">","                <strong>분석 결과✨</strong>","            </h4>","            <h5 class=\"mbr-section-subtitle mbr-fonts-style align-center mb-0 mt-2 display-5\">분석 결과에 대해서 수정이 가능합니다.</h5>","        </div>","    ","      <br>","","<!-- ============================원본================================-->","    <!--<select id=\"mySelect\" onchange=\"handleSelection()\">-->","    <!--    <option value=\"default\">의류를 선택하세요</option>-->","    <!--    {% for image_name in image_names %}-->","    <!--        {% if \"short_sleeved_shirt\" in image_name or \"long_sleeved_shirt\" in image_name or \"vest\" in image_name or \"sling\" in image_name %}-->","    <!--            <option value=\"상 의\">상 의</option>-->","    <!--        {% elif \"shorts\" in image_name or \"trousers\" in image_name or \"skirt\" in image_name %}-->","    <!--            <option value=\"하 의\">하 의</option>-->","    <!--        {% elif \"short_sleeved_outwear\" in image_name or \"long_sleeved_outwear\" in image_name %}-->","    <!--            <option value=\"아우터\">아우터</option>-->","    <!--        {% else %}-->","    <!--            <option value=\"드레스\">드레스</option>-->","    <!--        {% endif %}-->","    <!--    {% endfor %}-->","    <!--</select>-->","<!--==---------------------------------------------------------------------->","        <select id=\"mySelect\" onchange=\"showImage()\">","            <option value=\"default\">의류를 선택하세요</option>","            {% for image_name in image_names %}","                {% set image_path = url_for('static', filename='images/mojji-output-img/' + directory_name + '/' + image_name + '.png') %}","                <option value=\"{{ image_path }}\">{{ image_name }}</option>","            {% endfor %}","        </select>","","","<!--############################################################################################################-->","<img id=\"myImage\" src=\"\" class=\"animate__animated animate__delay-1s animate__fadeInUp\" style=\"width: 15%;\">","","        <div class=\"container\" item-align=\"center\" style=\"margin-top: 50px; margin-bottom: 70px;\">","                <div class=\"item-wrapper\">","                    <div class=\"item-img\">","                         <div id=\"additionalOptions_color_top\">","                            <label for=\"colorDropdown_top\">","                                색상:","                                <select id=\"colorDropdown_top\" name=\"colorDropdown_top\" onchange=\"handleColorSelection('top')\">","                                    <option value=\"\">색상 선택</option>","                                    <option value=\"검정색\">검정색</option>","                                    <option value=\"흰색\">흰색</option>","                                    <option value=\"빨강\">빨강</option>","                                    <option value=\"주황\">주황</option>","                                    <option value=\"노랑\">노랑</option>","                                    <option value=\"초록\">초록</option>","                                    <option value=\"파랑\">파랑</option>","                                    <option value=\"네이비\">네이비</option>","                                    <option value=\"보라\">보라</option>","                                    <option value=\"연청\">연청</option>","                                    <option value=\"청\">청</option>","                                    <option value=\"진청\">진청</option>","                                    <option value=\"라이트 그린\">라이트 그린</option>","                                    <option value=\"카키\">카키</option>","                                    <option value=\"라이트 핑크\">라이트 핑크</option>","                                    <option value=\"핑크\">핑크</option>","                                    <option value=\"라벤더\">라벤더</option>","                                    <option value=\"퍼플\">퍼플</option>","                                    <option value=\"라이트 옐로우\">라이트 옐로우</option>","                                    <option value=\"머스타드\">머스타드</option>","                                    <option value=\"베이지\">베이지</option>","                                    <option value=\"브라운\">브라운</option>","                                    <option value=\"아이보리\">아이보리</option>","                                    <option value=\"라이트 오렌지\">라이트 오렌지</option>","                                    <option value=\"오렌지\">오렌지</option>","                                    <option value=\"라이트 카키\">라이트 카키</option>","                                    <option value=\"회색\">회색</option>","                                    <!-- Add more colors as needed -->","                                </select>","                            </label>","                            <div id=\"additionalOptions_category_top\">","                                <label for=\"categoryDropdown_top\">","                                    카테고리:","                                    <select id=\"categoryDropdown_top\" name=\"categoryDropdown_top\" onchange=\"handleCategorySelection('top')\">","                                        <option value=\"\">카테고리 선택</option>","                                        <option value=\"long_sleeved_shirt\">긴팔티셔츠</option>","                                        <option value=\"short_sleeved_shirt\">반팔티셔츠</option>","                                        <option value=\"vest\">조 끼</option>","                                        <option value=\"sling\">민소매</option>","                                        <option value=\"short_sleeved_outwear\">반팔아우터</option>","                                        <option value=\"long_sleeved_outwear\">긴팔아우터</option>","                                        <option value=\"shorts\">반바지</option>","                                        <option value=\"trousers\">긴바지</option>","                                        <option value=\"skirt\">치마</option>","                                        <option value=\"short_sleeved_dress\">미니원피스</option>","                                        <option value=\"long_sleeved_dress\">롱원피스</option>","                                        <option value=\"vest_dress\">조끼원피스</option>","                                        <option value=\"sling_dress\">민소매원피스</option>","                                        <!-- Add more categories as needed -->","                                    </select>","                                </label>","                            </div>","                        </div>","                    </div>","                </div>","            </div>","        </div>","        <div class=\"mbr-section-btn mt-3\" style=\"margin-bottom: 50px;\">","            <!--<button class=\"btn btn-primary display-4\" onclick=\"exportToCSV('{{ identifier }}'); redirectToResult('{{ identifier }}');\">제 출</button>-->","                <button class=\"btn btn-primary display-4\" onclick=\"exportAndRedirect('{{ identifier }}');\">제 출</button>","        </div>","        <script>","        function redirectToResult() {","            var identifier = \"{{ identifier }}\";  // Retrieve the identifier from Flask template variable","        ","            // Construct the URL with the current identifier","            var url = '/result?identifier=' + encodeURIComponent(identifier);","        ","            // Redirect to the result page with the identifier as a query parameter","            window.location.href = url;","        }","        </script>","    </div>","</section>","","<script>","// ============================= rin_test ====================================","    function showImage() {","        var selectBox = document.getElementById(\"mySelect\");","        var selectedValue = selectBox.options[selectBox.selectedIndex].value;","        var image = document.getElementById(\"myImage\");","    ","        // Save the selected value to the global variable","        selectedClothingType = selectedValue;","    ","        if (selectedValue === \"default\") {","            image.src = \"\"; // Default image URL","        } else {","            // Get the identifier from the current URL and remove the file extension","            var urlParams = new URLSearchParams(window.location.search);","            var identifier = urlParams.get(\"identifier\").replace(/\\.[^/.]+$/, \"\");","    ","            // Construct the imageURL using the identifier and selectedValue","            var imageURL = selectedValue;","            image.src = imageURL;","    ","            // Get the English term for the selected clothing type","            var selectedClothingWithoutExtension = selectedValue.replace(/\\.[^.]+$/, \"\");","            var selectedClothingWithoutSuffix = selectedClothingWithoutExtension.replace(/_\\d+$/, \"\");","            selectedCategory = getCategoryAndEnglishTerm(selectedClothingWithoutSuffix);","    ","            // Update the category dropdown options based on selected clothing type","            updateCategoryDropdownOptions(selectedValue);","        }","    }","// ===============================================================================","// =========================== test zone ==========================================","    // var selectedClothingType = \"\";","    // var selectedColor = \"\";","    // var selectedCategory = \"\";","    ","    // function showImage() {","    //     var selectBox = document.getElementById(\"mySelect\");","    //     var selectedValue = selectBox.options[selectBox.selectedIndex].value;","    //     var image = document.getElementById(\"myImage\");","    ","    //     // Save the selected value to the global variable","    //     selectedClothingType = selectedValue;","    ","    //     if (selectedValue === \"default\") {","    //         image.src = \"\"; // Default image URL","    //     } else {","    //         // Get the identifier from the current URL and remove the file extension","    //         var urlParams = new URLSearchParams(window.location.search);","    //         var identifier = urlParams.get(\"identifier\").replace(/\\.[^/.]+$/, \"\");","    ","    //         // Construct the imageURL using the identifier and selectedValue","    //         var imageURL = `${selectedValue}`;","    //         image.src = imageURL;","    ","    //         // Update the category dropdown options based on selected clothing type","    //         updateCategoryDropdownOptions(selectedValue);","    //     }","    // }","// ============================= 원본 ========================================","    // var selectedClothingType = \"\";","    // var selectedColor = \"\";","    // var selectedCategory = \"\";","","    // function showImage(category) {","    //     var image = document.getElementById(\"myImage\");","    //     var identifier = \"{{ identifier }}\";  // Retrieve the identifier from Flask template variable","        ","    //     // Modify the selectedClothingType based on the category received","    //     selectedClothingType = category;","    //     var selectedEnglishClothingType = koreanToEnglishClothing(selectedClothingType);","","    //     if (category === \"default\") {","    //         image.src = \"\"; // Default image URL","    //     } else {","    //         // Get the identifier from the current URL and remove the file extension","    //         var urlParams = new URLSearchParams(window.location.search);","    //         var identifier = urlParams.get(\"identifier\").replace(/\\.[^/.]+$/, \"\");","    //         // Assuming directory_name and image_name are defined and contain valid values","    //         // var directory_name = \"your_directory_name\"; // Replace \"your_directory_name\" with the actual directory name","    //         var urlParams = new URLSearchParams(window.location.search);","    // //         var identifier = urlParams.get(\"identifier\").replace(/\\.[^/.]+$/, \"\");","    //         var image_name = \"long_sleeved_outwear_0\"; // Replace \"your_image_name\" with the actual image name without the extension","            ","    //         // // Construct the imageURL using the identifier and selectedValue","    //         var imageURL = \"{{ url_for('static', filename='images/mojji-output-img/after_detection_') }}\" + identifier + '/' + image_name + '.png';","    //         image.src = imageURL;","    //     }","    // }","    ","// =================================================rin test zone====================","","    // Convert the Python list `image_names` to a JavaScript array","    var image_names = {{ image_names | tojson }};","","    // Define a function to get the category and English term for a given clothing type","    function getCategoryAndEnglishTerm(clothingType) {","        var categories = {","            \"short_sleeved_shirt\": { category: \"상 의\", englishTerm: \"top\" },","            \"long_sleeved_shirt\": { category: \"상 의\", englishTerm: \"top\" },","            \"vest\": { category: \"상 의\", englishTerm: \"top\" },","            \"sling\": { category: \"상 의\", englishTerm: \"top\" },","            \"shorts\": { category: \"하 의\", englishTerm: \"bottom\" },","            \"trousers\": { category: \"하 의\", englishTerm: \"bottom\" },","            \"skirt\": { category: \"하 의\", englishTerm: \"bottom\" },","            \"short_sleeved_outwear\": { category: \"아우터\", englishTerm: \"outwear\" },","            \"long_sleeved_outwear\": { category: \"아우터\", englishTerm: \"outwear\" },","        };","","        // Check if the clothingType exists in the categories object","        if (clothingType in categories) {","            return categories[clothingType].englishTerm;","        } else {","            // If the clothingType is not found, assume it's a dress","            return \"dress\";","        }","    }","","    function exportToCSV(identifier) {","        // Remove the \".png\" extension from selectedClothingType","        var selectedClothingWithoutExtension = selectedClothingType.replace(/\\.[^.]+$/, \"\");","    ","        // Remove the \"_0\" suffix from selectedClothingWithoutExtension","        var selectedClothingWithoutSuffix = selectedClothingWithoutExtension.replace(/_\\d+$/, \"\");","    ","        // Get the English term for the selected clothing type","        var selectedEnglishClothingType = getCategoryAndEnglishTerm(selectedClothingWithoutSuffix);","    ","        var data = [","            [\"Clothing Type\", \"Color\", \"Category\"],","            [selectedEnglishClothingType, selectedColor, selectedCategory]","        ];","    ","        var csvContent = \"data:text/csv;charset=utf-8,\";","    ","        data.forEach(function (rowArray) {","            var row = rowArray.join(\",\");","            csvContent += row + \"\\r\\n\";","        });","    ","        var encodedUri = encodeURI(csvContent);","","        var xhr = new XMLHttpRequest();","        xhr.onreadystatechange = function () {","            if (xhr.readyState === 4) {","                if (xhr.status === 200) {","                    console.log(\"CSV file saved successfully.\");","                } else {","                    console.error(\"Failed to save CSV file.\");","                }","            }","        };","","        xhr.open(\"POST\", \"/save-csv-new?identifier=\" + encodeURIComponent(identifier), true);","        xhr.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");","        xhr.send(JSON.stringify({ data: encodedUri }));","","        csvCounter++;","    }","// ========================================================================================================","    // Function to extract the clothing type from the URL","    function extractClothingType(url) {","        var startIndex = url.lastIndexOf(\"/\") + 1; // Find the last index of \"/\"","        var endIndex = url.lastIndexOf(\"_\"); // Find the last index of \"_\"","        var clothingType = url.substring(startIndex, endIndex); // Extract the substring between \"/\" and \"_\"","        return clothingType;","    }","","    function handleColorSelection(clothingType) {","        selectedColor = document.getElementById(`colorDropdown_${clothingType}`).value;","        updateAdditionalOptionsVisibility();","    }","","    function handleCategorySelection(clothingType) {","        selectedCategory = document.getElementById(`categoryDropdown_${clothingType}`).value;","        // Handle the category selection here or perform any other necessary actions","    }","","    function resetDropdownValues() {","        selectedClothingType = \"\"; // Set default value for Clothing Type","        selectedColor = \"\";","        selectedCategory = \"\";","        document.getElementById(`colorDropdown_top`).value = \"\";","        document.getElementById(`categoryDropdown_top`).value = \"\";","    }","","    function updateAdditionalOptionsVisibility() {","        var additionalOptionsColorTop = document.getElementById('additionalOptions_color_top');","        var additionalOptionsCategoryTop = document.getElementById('additionalOptions_category_top');","","        if (selectedClothingType === \"top\") {","            additionalOptionsColorTop.style.display = \"block\";","            additionalOptionsCategoryTop.style.display = selectedColor ? \"block\" : \"none\";","        } else if (selectedClothingType === \"bottom\") {","            additionalOptionsColorTop.style.display = \"none\";","            additionalOptionsCategoryTop.style.display = \"none\";","        }","    }","","    // function exportToCSV(identifier) {","    //     // Remove the \".png\" extension from selectedClothingType","    //     var selectedClothingWithoutExtension = selectedClothingType.replace(/\\.[^.]+$/, \"\");","    ","    //     // Remove the \"_0\" suffix from selectedClothingWithoutExtension","    //     var selectedClothingWithoutSuffix = selectedClothingWithoutExtension.replace(/_\\d+$/, \"\");","    ","    //     var data = [","    //         [\"Clothing Type\", \"Color\", \"Category\"],","    //         [selectedClothingWithoutSuffix, selectedColor, selectedCategory]","    //     ];","    ","    //     var csvContent = \"data:text/csv;charset=utf-8,\";","    ","    //     data.forEach(function (rowArray) {","    //         var row = rowArray.join(\",\");","    //         csvContent += row + \"\\r\\n\";","    //     });","    ","    //     var encodedUri = encodeURI(csvContent);","","    //     var xhr = new XMLHttpRequest();","    //     xhr.onreadystatechange = function () {","    //         if (xhr.readyState === 4) {","    //             if (xhr.status === 200) {","    //                 console.log(\"CSV file saved successfully.\");","    //             } else {","    //                 console.error(\"Failed to save CSV file.\");","    //             }","    //         }","    //     };","","    //     xhr.open(\"POST\", \"/save-csv-new?identifier=\" + encodeURIComponent(identifier), true);","    //     xhr.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");","    //     xhr.send(JSON.stringify({ data: encodedUri }));","","    //     csvCounter++;","    // }","","","// 정상","//   var csvCounter = 1;","//     function exportToCSV(identifier) {","//         // Modify the Clothing Type based on Korean to English conversion","//         var selectedEnglishClothingType = koreanToEnglishClothing(selectedClothingType);","    ","//         var data = [","//             [\"Clothing Type\", \"Color\", \"Category\"],","//             [selectedEnglishClothingType, selectedColor, selectedCategory]","//         ];","    ","//         var csvContent = \"data:text/csv;charset=utf-8,\";","    ","//         data.forEach(function (rowArray) {","//             var row = rowArray.join(\",\");","//             csvContent += row + \"\\r\\n\";","//         });","    ","//         var encodedUri = encodeURI(csvContent);","    ","//         var xhr = new XMLHttpRequest();","//         xhr.onreadystatechange = function () {","//             if (xhr.readyState === 4) {","//                 if (xhr.status === 200) {","//                     console.log(\"CSV file saved successfully.\");","//                 } else {","//                     console.error(\"Failed to save CSV file.\");","//                 }","//             }","//         };","    ","//         xhr.open(\"POST\", \"/save-csv-new?identifier=\" + encodeURIComponent(identifier), true);","//         xhr.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");","//         xhr.send(JSON.stringify({ data: encodedUri }));","    ","//         csvCounter++;","//     }","    ","    // Add the koreanToEnglishClothing function here (from the previous response)","    function koreanToEnglishClothing(koreanCategory) {","        switch (koreanCategory) {","            case \"상 의\":","                return \"top\";","            case \"하 의\":","                return \"bottom\";","            case \"아우터\":","                return \"outwear\";","            case \"드레스\":","                return \"dress\";","            default:","                return \"\";","        }","    }","    ","    // Define a variable to store the selected value","    var selectedValue = \"\";","    ","    function handleSelection() {","        const dropdown = document.getElementById(\"mySelect\");","        selectedValue = dropdown.options[dropdown.selectedIndex].value;","        showImage(selectedValue);","    }","","</script>","","","","<section data-bs-version=\"5.1\" class=\"footer3 cid-s48P1Icc8J\" once=\"footers\" id=\"footer3-24\">","","    ","","    ","","    <div class=\"container\">","        <div class=\"media-container-row align-center mbr-white\">","            <div class=\"row row-links\">","                <ul class=\"foot-menu\">","                    ","                    ","                    ","                    ","                    ","                <li class=\"foot-menu-item mbr-fonts-style display-7\"><a href=\"/#top\" class=\"text-secondary\">Help Center</a></li></ul>","            </div>","            <div class=\"row social-row\">","                <div class=\"social-list align-right pb-2\">","                    ","                    ","                    ","                    ","                    ","                    ","                <div class=\"soc-item\">","                        <a href=\"https://twitter.com\" target=\"_blank\">","                            <span class=\"mbr-iconfont mbr-iconfont-social socicon-twitter socicon\"></span>","                        </a>","                    </div><div class=\"soc-item\">","                        <a href=\"https://www.facebook.com\" target=\"_blank\">","                            <span class=\"mbr-iconfont mbr-iconfont-social socicon-facebook socicon\"></span>","                        </a>","                    </div><div class=\"soc-item\">","                        <a href=\"https://www.youtube.com\" target=\"_blank\">","                            <span class=\"mbr-iconfont mbr-iconfont-social socicon-youtube socicon\"></span>","                        </a>","                    </div><div class=\"soc-item\">","                        <a href=\"https://instagram.com\" target=\"_blank\">","                            <span class=\"mbr-iconfont mbr-iconfont-social socicon-instagram socicon\"></span>","                        </a>","                    </div></div>","            </div>","            <div class=\"row row-copirayt\">","                <p class=\"mbr-text mb-0 mbr-fonts-style mbr-white align-center display-7\">","                    © Copyright 2023 COAI. All Rights Reserved.","                </p>","            </div>","        </div>","    </div>","</section><script src=\"static/bootstrap/js/bootstrap.bundle.min.js\"></script>  <script src=\"static/smoothscroll/smooth-scroll.js\"></script>  <script src=\"static/ytplayer/index.js\"></script>  <script src=\"static/dropdown/js/navbar-dropdown.js\"></script>  <script src=\"static/theme/js/script.js\"></script> ","","  "," <div id=\"scrollToTop\" class=\"scrollToTop mbr-arrow-up\"><a style=\"text-align: center;\"><i class=\"mbr-arrow-up-icon mbr-arrow-up-icon-cm cm-icon cm-icon-smallarrow-up\"></i></a></div>","    <input name=\"animation\" type=\"hidden\">","","  </body>","</html>"],"id":810},{"start":{"row":0,"column":0},"end":{"row":547,"column":7},"action":"insert","lines":["<!DOCTYPE html>","<html  >","<head>","","  <meta charset=\"UTF-8\">","  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">","  <meta name=\"generator\" content=\"Mobirise v5.8.14, mobirise.com\">","  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, minimum-scale=1\">","  <link rel=\"shortcut icon\" href=\"static/images/mojji-logo-3-223x228.png\" type=\"image/x-icon\">","  <meta name=\"description\" content=\"\">","  ","  ","  <title>사용자선택</title>","  <link rel=\"stylesheet\" href=\"static/bootstrap/css/bootstrap.min.css\">","  <link rel=\"stylesheet\" href=\"static/bootstrap/css/bootstrap-grid.min.css\">","  <link rel=\"stylesheet\" href=\"static/bootstrap/css/bootstrap-reboot.min.css\">","  <link rel=\"stylesheet\" href=\"static/animatecss/animate.css\">","  <link rel=\"stylesheet\" href=\"static/dropdown/css/style.css\">","  <link rel=\"stylesheet\" href=\"static/socicon/css/styles.css\">","  <link rel=\"stylesheet\" href=\"static/theme/css/style.css\">","  <link href=\"static/fonts/style.css\" rel=\"stylesheet\">","  <link rel=\"preload\" href=\"https://fonts.googleapis.com/css?family=Pangolin:400&display=swap\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\">","  <noscript><link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Pangolin:400&display=swap\"></noscript>","  <link rel=\"preload\" as=\"style\" href=\"static/mobirise/css/mbr-additional.css\"><link rel=\"stylesheet\" href=\"static/mobirise/css/mbr-additional.css\" type=\"text/css\">","  ","</head>","<body>","  ","  <section data-bs-version=\"5.1\" class=\"menu cid-s48OLK6784\" once=\"menu\" id=\"menu1-23\">","    ","    <nav class=\"navbar navbar-dropdown navbar-fixed-top navbar-expand-lg\">","        <div class=\"container-fluid\">","            <div class=\"navbar-brand\">","                <span class=\"navbar-logo\">","                    <a href=\"/\">","                        <img src=\"static/images/mojji-logo-3-223x228.webp\" alt=\"\" style=\"height: 3.8rem;\">","                    </a>","                </span>","                <span class=\"navbar-caption-wrap\"><a class=\"navbar-caption text-secondary display-1\" href=\"/\">MOJJI</a></span>","            </div>","            <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-bs-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">","                <div class=\"hamburger\">","                    <span></span>","                    <span></span>","                    <span></span>","                    <span></span>","                </div>","            </button>","            <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">","                <ul class=\"navbar-nav nav-dropdown nav-right\" data-app-modern-menu=\"true\"><li class=\"nav-item\"><a class=\"nav-link link text-black text-primary display-7\" href=\"/#top\">로그인</a></li>","                    <li class=\"nav-item\"><a class=\"nav-link link text-black text-primary display-7\" href=\"/#top\">회원가입</a></li></ul>","                ","                ","            </div>","        </div>","    </nav>","","</section>","","<section data-bs-version=\"5.1\" class=\"content1 cid-tKfhiB52DE\" id=\"content1-25\">","    <div class=\"container\">","        <div class=\"mbr-section-head\" style=\"margin-top: 100px; margin-bottom: 70px;\">","    <div class=\"container animate__animated animate__delay-1s animate__fadeInUp\" style=\"text-align: center;\">","            <h4 class=\"mbr-section-title mbr-fonts-style align-center mb-0 display-1 custom-heading\">","                <strong>✨MOJJI</strong>","            </h4>","            <h4 class=\"mbr-section-title mbr-fonts-style align-center mb-0 display-2 custom-heading\">","                <strong>분석 결과✨</strong>","            </h4>","            <h5 class=\"mbr-section-subtitle mbr-fonts-style align-center mb-0 mt-2 display-5\">분석 결과에 대해서 수정이 가능합니다.</h5>","        </div>","    ","      <br>","","<!-- ============================원본================================-->","    <!--<select id=\"mySelect\" onchange=\"handleSelection()\">-->","    <!--    <option value=\"default\">의류를 선택하세요</option>-->","    <!--    {% for image_name in image_names %}-->","    <!--        {% if \"short_sleeved_shirt\" in image_name or \"long_sleeved_shirt\" in image_name or \"vest\" in image_name or \"sling\" in image_name %}-->","    <!--            <option value=\"상 의\">상 의</option>-->","    <!--        {% elif \"shorts\" in image_name or \"trousers\" in image_name or \"skirt\" in image_name %}-->","    <!--            <option value=\"하 의\">하 의</option>-->","    <!--        {% elif \"short_sleeved_outwear\" in image_name or \"long_sleeved_outwear\" in image_name %}-->","    <!--            <option value=\"아우터\">아우터</option>-->","    <!--        {% else %}-->","    <!--            <option value=\"드레스\">드레스</option>-->","    <!--        {% endif %}-->","    <!--    {% endfor %}-->","    <!--</select>-->","<!--==---------------------------------------------------------------------->","        <select id=\"mySelect\" onchange=\"showImage()\">","            <option value=\"default\">의류를 선택하세요</option>","            {% for image_name in image_names %}","                {% set image_path = url_for('static', filename='images/mojji-output-img/' + directory_name + '/' + image_name + '.png') %}","                <option value=\"{{ image_path }}\">{{ image_name }}</option>","            {% endfor %}","        </select>","","","<!--############################################################################################################-->","<img id=\"myImage\" src=\"\" class=\"animate__animated animate__delay-1s animate__fadeInUp\" style=\"width: 15%;\">","","        <div class=\"container\" item-align=\"center\" style=\"margin-top: 50px; margin-bottom: 70px;\">","                <div class=\"item-wrapper\">","                    <div class=\"item-img\">","                         <div id=\"additionalOptions_color_top\">","                            <label for=\"colorDropdown_top\">","                                색상:","                                <select id=\"colorDropdown_top\" name=\"colorDropdown_top\" onchange=\"handleColorSelection('top')\">","                                    <option value=\"\">색상 선택</option>","                                    <option value=\"검정색\">검정색</option>","                                    <option value=\"흰색\">흰색</option>","                                    <option value=\"빨강\">빨강</option>","                                    <option value=\"주황\">주황</option>","                                    <option value=\"노랑\">노랑</option>","                                    <option value=\"초록\">초록</option>","                                    <option value=\"파랑\">파랑</option>","                                    <option value=\"네이비\">네이비</option>","                                    <option value=\"보라\">보라</option>","                                    <option value=\"연청\">연청</option>","                                    <option value=\"청\">청</option>","                                    <option value=\"진청\">진청</option>","                                    <option value=\"라이트 그린\">라이트 그린</option>","                                    <option value=\"카키\">카키</option>","                                    <option value=\"라이트 핑크\">라이트 핑크</option>","                                    <option value=\"핑크\">핑크</option>","                                    <option value=\"라벤더\">라벤더</option>","                                    <option value=\"퍼플\">퍼플</option>","                                    <option value=\"라이트 옐로우\">라이트 옐로우</option>","                                    <option value=\"머스타드\">머스타드</option>","                                    <option value=\"베이지\">베이지</option>","                                    <option value=\"브라운\">브라운</option>","                                    <option value=\"아이보리\">아이보리</option>","                                    <option value=\"라이트 오렌지\">라이트 오렌지</option>","                                    <option value=\"오렌지\">오렌지</option>","                                    <option value=\"라이트 카키\">라이트 카키</option>","                                    <option value=\"회색\">회색</option>","                                    <!-- Add more colors as needed -->","                                </select>","                            </label>","                            <div id=\"additionalOptions_category_top\">","                                <label for=\"categoryDropdown_top\">","                                    카테고리:","                                    <select id=\"categoryDropdown_top\" name=\"categoryDropdown_top\" onchange=\"handleCategorySelection('top')\">","                                        <option value=\"\">카테고리 선택</option>","                                        <option value=\"long_sleeved_shirt\">긴팔티셔츠</option>","                                        <option value=\"short_sleeved_shirt\">반팔티셔츠</option>","                                        <option value=\"vest\">조 끼</option>","                                        <option value=\"sling\">민소매</option>","                                        <option value=\"short_sleeved_outwear\">반팔아우터</option>","                                        <option value=\"long_sleeved_outwear\">긴팔아우터</option>","                                        <option value=\"shorts\">반바지</option>","                                        <option value=\"trousers\">긴바지</option>","                                        <option value=\"skirt\">치마</option>","                                        <option value=\"short_sleeved_dress\">미니원피스</option>","                                        <option value=\"long_sleeved_dress\">롱원피스</option>","                                        <option value=\"vest_dress\">조끼원피스</option>","                                        <option value=\"sling_dress\">민소매원피스</option>","                                        <!-- Add more categories as needed -->","                                    </select>","                                </label>","                            </div>","                        </div>","                    </div>","                </div>","            </div>","        </div>","        <div class=\"mbr-section-btn mt-3\" style=\"margin-bottom: 50px;\">","            <button class=\"btn btn-primary display-4\" onclick=\"exportToCSV('{{ identifier }}'); redirectToResult('{{ identifier }}');\">제 출</button>","        </div>","        <script>","        function redirectToResult() {","            var identifier = \"{{ identifier }}\";  // Retrieve the identifier from Flask template variable","        ","            // Construct the URL with the current identifier","            var url = '/result?identifier=' + encodeURIComponent(identifier);","        ","            // Redirect to the result page with the identifier as a query parameter","            window.location.href = url;","        }","        </script>","    </div>","</section>","","<script>","// ============================= rin_test ====================================","    function showImage() {","        var selectBox = document.getElementById(\"mySelect\");","        var selectedValue = selectBox.options[selectBox.selectedIndex].value;","        var image = document.getElementById(\"myImage\");","    ","        // Save the selected value to the global variable","        selectedClothingType = selectedValue;","    ","        if (selectedValue === \"default\") {","            image.src = \"\"; // Default image URL","        } else {","            // Get the identifier from the current URL and remove the file extension","            var urlParams = new URLSearchParams(window.location.search);","            var identifier = urlParams.get(\"identifier\").replace(/\\.[^/.]+$/, \"\");","    ","            // Construct the imageURL using the identifier and selectedValue","            var imageURL = selectedValue;","            image.src = imageURL;","    ","            // Get the English term for the selected clothing type","            var selectedClothingWithoutExtension = selectedValue.replace(/\\.[^.]+$/, \"\");","            var selectedClothingWithoutSuffix = selectedClothingWithoutExtension.replace(/_\\d+$/, \"\");","            selectedCategory = getCategoryAndEnglishTerm(selectedClothingWithoutSuffix);","    ","            // Update the category dropdown options based on selected clothing type","            updateCategoryDropdownOptions(selectedValue);","        }","    }","// ===============================================================================","// =========================== test zone ==========================================","    // var selectedClothingType = \"\";","    // var selectedColor = \"\";","    // var selectedCategory = \"\";","    ","    // function showImage() {","    //     var selectBox = document.getElementById(\"mySelect\");","    //     var selectedValue = selectBox.options[selectBox.selectedIndex].value;","    //     var image = document.getElementById(\"myImage\");","    ","    //     // Save the selected value to the global variable","    //     selectedClothingType = selectedValue;","    ","    //     if (selectedValue === \"default\") {","    //         image.src = \"\"; // Default image URL","    //     } else {","    //         // Get the identifier from the current URL and remove the file extension","    //         var urlParams = new URLSearchParams(window.location.search);","    //         var identifier = urlParams.get(\"identifier\").replace(/\\.[^/.]+$/, \"\");","    ","    //         // Construct the imageURL using the identifier and selectedValue","    //         var imageURL = `${selectedValue}`;","    //         image.src = imageURL;","    ","    //         // Update the category dropdown options based on selected clothing type","    //         updateCategoryDropdownOptions(selectedValue);","    //     }","    // }","// ============================= 원본 ========================================","    // var selectedClothingType = \"\";","    // var selectedColor = \"\";","    // var selectedCategory = \"\";","","    // function showImage(category) {","    //     var image = document.getElementById(\"myImage\");","    //     var identifier = \"{{ identifier }}\";  // Retrieve the identifier from Flask template variable","        ","    //     // Modify the selectedClothingType based on the category received","    //     selectedClothingType = category;","    //     var selectedEnglishClothingType = koreanToEnglishClothing(selectedClothingType);","","    //     if (category === \"default\") {","    //         image.src = \"\"; // Default image URL","    //     } else {","    //         // Get the identifier from the current URL and remove the file extension","    //         var urlParams = new URLSearchParams(window.location.search);","    //         var identifier = urlParams.get(\"identifier\").replace(/\\.[^/.]+$/, \"\");","    //         // Assuming directory_name and image_name are defined and contain valid values","    //         // var directory_name = \"your_directory_name\"; // Replace \"your_directory_name\" with the actual directory name","    //         var urlParams = new URLSearchParams(window.location.search);","    // //         var identifier = urlParams.get(\"identifier\").replace(/\\.[^/.]+$/, \"\");","    //         var image_name = \"long_sleeved_outwear_0\"; // Replace \"your_image_name\" with the actual image name without the extension","            ","    //         // // Construct the imageURL using the identifier and selectedValue","    //         var imageURL = \"{{ url_for('static', filename='images/mojji-output-img/after_detection_') }}\" + identifier + '/' + image_name + '.png';","    //         image.src = imageURL;","    //     }","    // }","    ","// =================================================rin test zone====================","","    // Convert the Python list `image_names` to a JavaScript array","    var image_names = {{ image_names | tojson }};","","    // Define a function to get the category and English term for a given clothing type","    function getCategoryAndEnglishTerm(clothingType) {","        var categories = {","            \"short_sleeved_shirt\": { category: \"상 의\", englishTerm: \"top\" },","            \"long_sleeved_shirt\": { category: \"상 의\", englishTerm: \"top\" },","            \"vest\": { category: \"상 의\", englishTerm: \"top\" },","            \"sling\": { category: \"상 의\", englishTerm: \"top\" },","            \"shorts\": { category: \"하 의\", englishTerm: \"bottom\" },","            \"trousers\": { category: \"하 의\", englishTerm: \"bottom\" },","            \"skirt\": { category: \"하 의\", englishTerm: \"bottom\" },","            \"short_sleeved_outwear\": { category: \"아우터\", englishTerm: \"outwear\" },","            \"long_sleeved_outwear\": { category: \"아우터\", englishTerm: \"outwear\" },","        };","","        // Check if the clothingType exists in the categories object","        if (clothingType in categories) {","            return categories[clothingType].englishTerm;","        } else {","            // If the clothingType is not found, assume it's a dress","            return \"dress\";","        }","    }","","    function exportToCSV(identifier) {","        // Remove the \".png\" extension from selectedClothingType","        var selectedClothingWithoutExtension = selectedClothingType.replace(/\\.[^.]+$/, \"\");","    ","        // Remove the \"_0\" suffix from selectedClothingWithoutExtension","        var selectedClothingWithoutSuffix = selectedClothingWithoutExtension.replace(/_\\d+$/, \"\");","    ","        // Get the English term for the selected clothing type","        var selectedEnglishClothingType = getCategoryAndEnglishTerm(selectedClothingWithoutSuffix);","    ","        var data = [","            [\"Clothing Type\", \"Color\", \"Category\"],","            [selectedEnglishClothingType, selectedColor, selectedCategory]","        ];","    ","        var csvContent = \"data:text/csv;charset=utf-8,\";","    ","        data.forEach(function (rowArray) {","            var row = rowArray.join(\",\");","            csvContent += row + \"\\r\\n\";","        });","    ","        var encodedUri = encodeURI(csvContent);","","        var xhr = new XMLHttpRequest();","        xhr.onreadystatechange = function () {","            if (xhr.readyState === 4) {","                if (xhr.status === 200) {","                    console.log(\"CSV file saved successfully.\");","                } else {","                    console.error(\"Failed to save CSV file.\");","                }","            }","        };","","        xhr.open(\"POST\", \"/save-csv-new?identifier=\" + encodeURIComponent(identifier), true);","        xhr.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");","        xhr.send(JSON.stringify({ data: encodedUri }));","","        csvCounter++;","    }","// ========================================================================================================","    // Function to extract the clothing type from the URL","    function extractClothingType(url) {","        var startIndex = url.lastIndexOf(\"/\") + 1; // Find the last index of \"/\"","        var endIndex = url.lastIndexOf(\"_\"); // Find the last index of \"_\"","        var clothingType = url.substring(startIndex, endIndex); // Extract the substring between \"/\" and \"_\"","        return clothingType;","    }","","    function handleColorSelection(clothingType) {","        selectedColor = document.getElementById(`colorDropdown_${clothingType}`).value;","        updateAdditionalOptionsVisibility();","    }","","    function handleCategorySelection(clothingType) {","        selectedCategory = document.getElementById(`categoryDropdown_${clothingType}`).value;","        // Handle the category selection here or perform any other necessary actions","    }","","    function resetDropdownValues() {","        selectedClothingType = \"\"; // Set default value for Clothing Type","        selectedColor = \"\";","        selectedCategory = \"\";","        document.getElementById(`colorDropdown_top`).value = \"\";","        document.getElementById(`categoryDropdown_top`).value = \"\";","    }","","    function updateAdditionalOptionsVisibility() {","        var additionalOptionsColorTop = document.getElementById('additionalOptions_color_top');","        var additionalOptionsCategoryTop = document.getElementById('additionalOptions_category_top');","","        if (selectedClothingType === \"top\") {","            additionalOptionsColorTop.style.display = \"block\";","            additionalOptionsCategoryTop.style.display = selectedColor ? \"block\" : \"none\";","        } else if (selectedClothingType === \"bottom\") {","            additionalOptionsColorTop.style.display = \"none\";","            additionalOptionsCategoryTop.style.display = \"none\";","        }","    }","","    // function exportToCSV(identifier) {","    //     // Remove the \".png\" extension from selectedClothingType","    //     var selectedClothingWithoutExtension = selectedClothingType.replace(/\\.[^.]+$/, \"\");","    ","    //     // Remove the \"_0\" suffix from selectedClothingWithoutExtension","    //     var selectedClothingWithoutSuffix = selectedClothingWithoutExtension.replace(/_\\d+$/, \"\");","    ","    //     var data = [","    //         [\"Clothing Type\", \"Color\", \"Category\"],","    //         [selectedClothingWithoutSuffix, selectedColor, selectedCategory]","    //     ];","    ","    //     var csvContent = \"data:text/csv;charset=utf-8,\";","    ","    //     data.forEach(function (rowArray) {","    //         var row = rowArray.join(\",\");","    //         csvContent += row + \"\\r\\n\";","    //     });","    ","    //     var encodedUri = encodeURI(csvContent);","","    //     var xhr = new XMLHttpRequest();","    //     xhr.onreadystatechange = function () {","    //         if (xhr.readyState === 4) {","    //             if (xhr.status === 200) {","    //                 console.log(\"CSV file saved successfully.\");","    //             } else {","    //                 console.error(\"Failed to save CSV file.\");","    //             }","    //         }","    //     };","","    //     xhr.open(\"POST\", \"/save-csv-new?identifier=\" + encodeURIComponent(identifier), true);","    //     xhr.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");","    //     xhr.send(JSON.stringify({ data: encodedUri }));","","    //     csvCounter++;","    // }","","","// 정상","//   var csvCounter = 1;","//     function exportToCSV(identifier) {","//         // Modify the Clothing Type based on Korean to English conversion","//         var selectedEnglishClothingType = koreanToEnglishClothing(selectedClothingType);","    ","//         var data = [","//             [\"Clothing Type\", \"Color\", \"Category\"],","//             [selectedEnglishClothingType, selectedColor, selectedCategory]","//         ];","    ","//         var csvContent = \"data:text/csv;charset=utf-8,\";","    ","//         data.forEach(function (rowArray) {","//             var row = rowArray.join(\",\");","//             csvContent += row + \"\\r\\n\";","//         });","    ","//         var encodedUri = encodeURI(csvContent);","    ","//         var xhr = new XMLHttpRequest();","//         xhr.onreadystatechange = function () {","//             if (xhr.readyState === 4) {","//                 if (xhr.status === 200) {","//                     console.log(\"CSV file saved successfully.\");","//                 } else {","//                     console.error(\"Failed to save CSV file.\");","//                 }","//             }","//         };","    ","//         xhr.open(\"POST\", \"/save-csv-new?identifier=\" + encodeURIComponent(identifier), true);","//         xhr.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");","//         xhr.send(JSON.stringify({ data: encodedUri }));","    ","//         csvCounter++;","//     }","    ","    // Add the koreanToEnglishClothing function here (from the previous response)","    function koreanToEnglishClothing(koreanCategory) {","        switch (koreanCategory) {","            case \"상 의\":","                return \"top\";","            case \"하 의\":","                return \"bottom\";","            case \"아우터\":","                return \"outwear\";","            case \"드레스\":","                return \"dress\";","            default:","                return \"\";","        }","    }","    ","    // Define a variable to store the selected value","    var selectedValue = \"\";","    ","    function handleSelection() {","        const dropdown = document.getElementById(\"mySelect\");","        selectedValue = dropdown.options[dropdown.selectedIndex].value;","        showImage(selectedValue);","    }","","</script>","","","","<section data-bs-version=\"5.1\" class=\"footer3 cid-s48P1Icc8J\" once=\"footers\" id=\"footer3-24\">","","    ","","    ","","    <div class=\"container\">","        <div class=\"media-container-row align-center mbr-white\">","            <div class=\"row row-links\">","                <ul class=\"foot-menu\">","                    ","                    ","                    ","                    ","                    ","                <li class=\"foot-menu-item mbr-fonts-style display-7\"><a href=\"/#top\" class=\"text-secondary\">Help Center</a></li></ul>","            </div>","            <div class=\"row social-row\">","                <div class=\"social-list align-right pb-2\">","                    ","                    ","                    ","                    ","                    ","                    ","                <div class=\"soc-item\">","                        <a href=\"https://twitter.com\" target=\"_blank\">","                            <span class=\"mbr-iconfont mbr-iconfont-social socicon-twitter socicon\"></span>","                        </a>","                    </div><div class=\"soc-item\">","                        <a href=\"https://www.facebook.com\" target=\"_blank\">","                            <span class=\"mbr-iconfont mbr-iconfont-social socicon-facebook socicon\"></span>","                        </a>","                    </div><div class=\"soc-item\">","                        <a href=\"https://www.youtube.com\" target=\"_blank\">","                            <span class=\"mbr-iconfont mbr-iconfont-social socicon-youtube socicon\"></span>","                        </a>","                    </div><div class=\"soc-item\">","                        <a href=\"https://instagram.com\" target=\"_blank\">","                            <span class=\"mbr-iconfont mbr-iconfont-social socicon-instagram socicon\"></span>","                        </a>","                    </div></div>","            </div>","            <div class=\"row row-copirayt\">","                <p class=\"mbr-text mb-0 mbr-fonts-style mbr-white align-center display-7\">","                    © Copyright 2023 COAI. All Rights Reserved.","                </p>","            </div>","        </div>","    </div>","</section><script src=\"static/bootstrap/js/bootstrap.bundle.min.js\"></script>  <script src=\"static/smoothscroll/smooth-scroll.js\"></script>  <script src=\"static/ytplayer/index.js\"></script>  <script src=\"static/dropdown/js/navbar-dropdown.js\"></script>  <script src=\"static/theme/js/script.js\"></script> ","","  "," <div id=\"scrollToTop\" class=\"scrollToTop mbr-arrow-up\"><a style=\"text-align: center;\"><i class=\"mbr-arrow-up-icon mbr-arrow-up-icon-cm cm-icon cm-icon-smallarrow-up\"></i></a></div>","    <input name=\"animation\" type=\"hidden\">","","  </body>","</html>"]}],[{"start":{"row":168,"column":147},"end":{"row":170,"column":0},"action":"insert","lines":["","            <button class=\"btn btn-primary display-4\" onclick=\"exportAndRedirect('{{ identifier }}');\">제 출</button>",""],"id":811,"ignore":true}],[{"start":{"row":0,"column":0},"end":{"row":548,"column":7},"action":"remove","lines":["<!DOCTYPE html>","<html  >","<head>","","  <meta charset=\"UTF-8\">","  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">","  <meta name=\"generator\" content=\"Mobirise v5.8.14, mobirise.com\">","  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, minimum-scale=1\">","  <link rel=\"shortcut icon\" href=\"static/images/mojji-logo-3-223x228.png\" type=\"image/x-icon\">","  <meta name=\"description\" content=\"\">","  ","  ","  <title>사용자선택</title>","  <link rel=\"stylesheet\" href=\"static/bootstrap/css/bootstrap.min.css\">","  <link rel=\"stylesheet\" href=\"static/bootstrap/css/bootstrap-grid.min.css\">","  <link rel=\"stylesheet\" href=\"static/bootstrap/css/bootstrap-reboot.min.css\">","  <link rel=\"stylesheet\" href=\"static/animatecss/animate.css\">","  <link rel=\"stylesheet\" href=\"static/dropdown/css/style.css\">","  <link rel=\"stylesheet\" href=\"static/socicon/css/styles.css\">","  <link rel=\"stylesheet\" href=\"static/theme/css/style.css\">","  <link href=\"static/fonts/style.css\" rel=\"stylesheet\">","  <link rel=\"preload\" href=\"https://fonts.googleapis.com/css?family=Pangolin:400&display=swap\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\">","  <noscript><link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Pangolin:400&display=swap\"></noscript>","  <link rel=\"preload\" as=\"style\" href=\"static/mobirise/css/mbr-additional.css\"><link rel=\"stylesheet\" href=\"static/mobirise/css/mbr-additional.css\" type=\"text/css\">","  ","</head>","<body>","  ","  <section data-bs-version=\"5.1\" class=\"menu cid-s48OLK6784\" once=\"menu\" id=\"menu1-23\">","    ","    <nav class=\"navbar navbar-dropdown navbar-fixed-top navbar-expand-lg\">","        <div class=\"container-fluid\">","            <div class=\"navbar-brand\">","                <span class=\"navbar-logo\">","                    <a href=\"/\">","                        <img src=\"static/images/mojji-logo-3-223x228.webp\" alt=\"\" style=\"height: 3.8rem;\">","                    </a>","                </span>","                <span class=\"navbar-caption-wrap\"><a class=\"navbar-caption text-secondary display-1\" href=\"/\">MOJJI</a></span>","            </div>","            <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-bs-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">","                <div class=\"hamburger\">","                    <span></span>","                    <span></span>","                    <span></span>","                    <span></span>","                </div>","            </button>","            <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">","                <ul class=\"navbar-nav nav-dropdown nav-right\" data-app-modern-menu=\"true\"><li class=\"nav-item\"><a class=\"nav-link link text-black text-primary display-7\" href=\"/#top\">로그인</a></li>","                    <li class=\"nav-item\"><a class=\"nav-link link text-black text-primary display-7\" href=\"/#top\">회원가입</a></li></ul>","                ","                ","            </div>","        </div>","    </nav>","","</section>","","<section data-bs-version=\"5.1\" class=\"content1 cid-tKfhiB52DE\" id=\"content1-25\">","    <div class=\"container\">","        <div class=\"mbr-section-head\" style=\"margin-top: 100px; margin-bottom: 70px;\">","    <div class=\"container animate__animated animate__delay-1s animate__fadeInUp\" style=\"text-align: center;\">","            <h4 class=\"mbr-section-title mbr-fonts-style align-center mb-0 display-1 custom-heading\">","                <strong>✨MOJJI</strong>","            </h4>","            <h4 class=\"mbr-section-title mbr-fonts-style align-center mb-0 display-2 custom-heading\">","                <strong>분석 결과✨</strong>","            </h4>","            <h5 class=\"mbr-section-subtitle mbr-fonts-style align-center mb-0 mt-2 display-5\">분석 결과에 대해서 수정이 가능합니다.</h5>","        </div>","    ","      <br>","","<!-- ============================원본================================-->","    <!--<select id=\"mySelect\" onchange=\"handleSelection()\">-->","    <!--    <option value=\"default\">의류를 선택하세요</option>-->","    <!--    {% for image_name in image_names %}-->","    <!--        {% if \"short_sleeved_shirt\" in image_name or \"long_sleeved_shirt\" in image_name or \"vest\" in image_name or \"sling\" in image_name %}-->","    <!--            <option value=\"상 의\">상 의</option>-->","    <!--        {% elif \"shorts\" in image_name or \"trousers\" in image_name or \"skirt\" in image_name %}-->","    <!--            <option value=\"하 의\">하 의</option>-->","    <!--        {% elif \"short_sleeved_outwear\" in image_name or \"long_sleeved_outwear\" in image_name %}-->","    <!--            <option value=\"아우터\">아우터</option>-->","    <!--        {% else %}-->","    <!--            <option value=\"드레스\">드레스</option>-->","    <!--        {% endif %}-->","    <!--    {% endfor %}-->","    <!--</select>-->","<!--==---------------------------------------------------------------------->","        <select id=\"mySelect\" onchange=\"showImage()\">","            <option value=\"default\">의류를 선택하세요</option>","            {% for image_name in image_names %}","                {% set image_path = url_for('static', filename='images/mojji-output-img/' + directory_name + '/' + image_name + '.png') %}","                <option value=\"{{ image_path }}\">{{ image_name }}</option>","            {% endfor %}","        </select>","","","<!--############################################################################################################-->","<img id=\"myImage\" src=\"\" class=\"animate__animated animate__delay-1s animate__fadeInUp\" style=\"width: 15%;\">","","        <div class=\"container\" item-align=\"center\" style=\"margin-top: 50px; margin-bottom: 70px;\">","                <div class=\"item-wrapper\">","                    <div class=\"item-img\">","                         <div id=\"additionalOptions_color_top\">","                            <label for=\"colorDropdown_top\">","                                색상:","                                <select id=\"colorDropdown_top\" name=\"colorDropdown_top\" onchange=\"handleColorSelection('top')\">","                                    <option value=\"\">색상 선택</option>","                                    <option value=\"검정색\">검정색</option>","                                    <option value=\"흰색\">흰색</option>","                                    <option value=\"빨강\">빨강</option>","                                    <option value=\"주황\">주황</option>","                                    <option value=\"노랑\">노랑</option>","                                    <option value=\"초록\">초록</option>","                                    <option value=\"파랑\">파랑</option>","                                    <option value=\"네이비\">네이비</option>","                                    <option value=\"보라\">보라</option>","                                    <option value=\"연청\">연청</option>","                                    <option value=\"청\">청</option>","                                    <option value=\"진청\">진청</option>","                                    <option value=\"라이트 그린\">라이트 그린</option>","                                    <option value=\"카키\">카키</option>","                                    <option value=\"라이트 핑크\">라이트 핑크</option>","                                    <option value=\"핑크\">핑크</option>","                                    <option value=\"라벤더\">라벤더</option>","                                    <option value=\"퍼플\">퍼플</option>","                                    <option value=\"라이트 옐로우\">라이트 옐로우</option>","                                    <option value=\"머스타드\">머스타드</option>","                                    <option value=\"베이지\">베이지</option>","                                    <option value=\"브라운\">브라운</option>","                                    <option value=\"아이보리\">아이보리</option>","                                    <option value=\"라이트 오렌지\">라이트 오렌지</option>","                                    <option value=\"오렌지\">오렌지</option>","                                    <option value=\"라이트 카키\">라이트 카키</option>","                                    <option value=\"회색\">회색</option>","                                    <!-- Add more colors as needed -->","                                </select>","                            </label>","                            <div id=\"additionalOptions_category_top\">","                                <label for=\"categoryDropdown_top\">","                                    카테고리:","                                    <select id=\"categoryDropdown_top\" name=\"categoryDropdown_top\" onchange=\"handleCategorySelection('top')\">","                                        <option value=\"\">카테고리 선택</option>","                                        <option value=\"long_sleeved_shirt\">긴팔티셔츠</option>","                                        <option value=\"short_sleeved_shirt\">반팔티셔츠</option>","                                        <option value=\"vest\">조 끼</option>","                                        <option value=\"sling\">민소매</option>","                                        <option value=\"short_sleeved_outwear\">반팔아우터</option>","                                        <option value=\"long_sleeved_outwear\">긴팔아우터</option>","                                        <option value=\"shorts\">반바지</option>","                                        <option value=\"trousers\">긴바지</option>","                                        <option value=\"skirt\">치마</option>","                                        <option value=\"short_sleeved_dress\">미니원피스</option>","                                        <option value=\"long_sleeved_dress\">롱원피스</option>","                                        <option value=\"vest_dress\">조끼원피스</option>","                                        <option value=\"sling_dress\">민소매원피스</option>","                                        <!-- Add more categories as needed -->","                                    </select>","                                </label>","                            </div>","                        </div>","                    </div>","                </div>","            </div>","        </div>","        <div class=\"mbr-section-btn mt-3\" style=\"margin-bottom: 50px;\">","            <button class=\"btn btn-primary display-4\" onclick=\"exportToCSV('{{ identifier }}'); redirectToResult('{{ identifier }}');\">제 출</button>","","        </div>","        <script>","        function redirectToResult() {","            var identifier = \"{{ identifier }}\";  // Retrieve the identifier from Flask template variable","        ","            // Construct the URL with the current identifier","            var url = '/result?identifier=' + encodeURIComponent(identifier);","        ","            // Redirect to the result page with the identifier as a query parameter","            window.location.href = url;","        }","        </script>","    </div>","</section>","","<script>","// ============================= rin_test ====================================","    function showImage() {","        var selectBox = document.getElementById(\"mySelect\");","        var selectedValue = selectBox.options[selectBox.selectedIndex].value;","        var image = document.getElementById(\"myImage\");","    ","        // Save the selected value to the global variable","        selectedClothingType = selectedValue;","    ","        if (selectedValue === \"default\") {","            image.src = \"\"; // Default image URL","        } else {","            // Get the identifier from the current URL and remove the file extension","            var urlParams = new URLSearchParams(window.location.search);","            var identifier = urlParams.get(\"identifier\").replace(/\\.[^/.]+$/, \"\");","    ","            // Construct the imageURL using the identifier and selectedValue","            var imageURL = selectedValue;","            image.src = imageURL;","    ","            // Get the English term for the selected clothing type","            var selectedClothingWithoutExtension = selectedValue.replace(/\\.[^.]+$/, \"\");","            var selectedClothingWithoutSuffix = selectedClothingWithoutExtension.replace(/_\\d+$/, \"\");","            selectedCategory = getCategoryAndEnglishTerm(selectedClothingWithoutSuffix);","    ","            // Update the category dropdown options based on selected clothing type","            updateCategoryDropdownOptions(selectedValue);","        }","    }","// ===============================================================================","// =========================== test zone ==========================================","    // var selectedClothingType = \"\";","    // var selectedColor = \"\";","    // var selectedCategory = \"\";","    ","    // function showImage() {","    //     var selectBox = document.getElementById(\"mySelect\");","    //     var selectedValue = selectBox.options[selectBox.selectedIndex].value;","    //     var image = document.getElementById(\"myImage\");","    ","    //     // Save the selected value to the global variable","    //     selectedClothingType = selectedValue;","    ","    //     if (selectedValue === \"default\") {","    //         image.src = \"\"; // Default image URL","    //     } else {","    //         // Get the identifier from the current URL and remove the file extension","    //         var urlParams = new URLSearchParams(window.location.search);","    //         var identifier = urlParams.get(\"identifier\").replace(/\\.[^/.]+$/, \"\");","    ","    //         // Construct the imageURL using the identifier and selectedValue","    //         var imageURL = `${selectedValue}`;","    //         image.src = imageURL;","    ","    //         // Update the category dropdown options based on selected clothing type","    //         updateCategoryDropdownOptions(selectedValue);","    //     }","    // }","// ============================= 원본 ========================================","    // var selectedClothingType = \"\";","    // var selectedColor = \"\";","    // var selectedCategory = \"\";","","    // function showImage(category) {","    //     var image = document.getElementById(\"myImage\");","    //     var identifier = \"{{ identifier }}\";  // Retrieve the identifier from Flask template variable","        ","    //     // Modify the selectedClothingType based on the category received","    //     selectedClothingType = category;","    //     var selectedEnglishClothingType = koreanToEnglishClothing(selectedClothingType);","","    //     if (category === \"default\") {","    //         image.src = \"\"; // Default image URL","    //     } else {","    //         // Get the identifier from the current URL and remove the file extension","    //         var urlParams = new URLSearchParams(window.location.search);","    //         var identifier = urlParams.get(\"identifier\").replace(/\\.[^/.]+$/, \"\");","    //         // Assuming directory_name and image_name are defined and contain valid values","    //         // var directory_name = \"your_directory_name\"; // Replace \"your_directory_name\" with the actual directory name","    //         var urlParams = new URLSearchParams(window.location.search);","    // //         var identifier = urlParams.get(\"identifier\").replace(/\\.[^/.]+$/, \"\");","    //         var image_name = \"long_sleeved_outwear_0\"; // Replace \"your_image_name\" with the actual image name without the extension","            ","    //         // // Construct the imageURL using the identifier and selectedValue","    //         var imageURL = \"{{ url_for('static', filename='images/mojji-output-img/after_detection_') }}\" + identifier + '/' + image_name + '.png';","    //         image.src = imageURL;","    //     }","    // }","    ","// =================================================rin test zone====================","","    // Convert the Python list `image_names` to a JavaScript array","    var image_names = {{ image_names | tojson }};","","    // Define a function to get the category and English term for a given clothing type","    function getCategoryAndEnglishTerm(clothingType) {","        var categories = {","            \"short_sleeved_shirt\": { category: \"상 의\", englishTerm: \"top\" },","            \"long_sleeved_shirt\": { category: \"상 의\", englishTerm: \"top\" },","            \"vest\": { category: \"상 의\", englishTerm: \"top\" },","            \"sling\": { category: \"상 의\", englishTerm: \"top\" },","            \"shorts\": { category: \"하 의\", englishTerm: \"bottom\" },","            \"trousers\": { category: \"하 의\", englishTerm: \"bottom\" },","            \"skirt\": { category: \"하 의\", englishTerm: \"bottom\" },","            \"short_sleeved_outwear\": { category: \"아우터\", englishTerm: \"outwear\" },","            \"long_sleeved_outwear\": { category: \"아우터\", englishTerm: \"outwear\" },","        };","","        // Check if the clothingType exists in the categories object","        if (clothingType in categories) {","            return categories[clothingType].englishTerm;","        } else {","            // If the clothingType is not found, assume it's a dress","            return \"dress\";","        }","    }","","    function exportToCSV(identifier) {","        // Remove the \".png\" extension from selectedClothingType","        var selectedClothingWithoutExtension = selectedClothingType.replace(/\\.[^.]+$/, \"\");","    ","        // Remove the \"_0\" suffix from selectedClothingWithoutExtension","        var selectedClothingWithoutSuffix = selectedClothingWithoutExtension.replace(/_\\d+$/, \"\");","    ","        // Get the English term for the selected clothing type","        var selectedEnglishClothingType = getCategoryAndEnglishTerm(selectedClothingWithoutSuffix);","    ","        var data = [","            [\"Clothing Type\", \"Color\", \"Category\"],","            [selectedEnglishClothingType, selectedColor, selectedCategory]","        ];","    ","        var csvContent = \"data:text/csv;charset=utf-8,\";","    ","        data.forEach(function (rowArray) {","            var row = rowArray.join(\",\");","            csvContent += row + \"\\r\\n\";","        });","    ","        var encodedUri = encodeURI(csvContent);","","        var xhr = new XMLHttpRequest();","        xhr.onreadystatechange = function () {","            if (xhr.readyState === 4) {","                if (xhr.status === 200) {","                    console.log(\"CSV file saved successfully.\");","                } else {","                    console.error(\"Failed to save CSV file.\");","                }","            }","        };","","        xhr.open(\"POST\", \"/save-csv-new?identifier=\" + encodeURIComponent(identifier), true);","        xhr.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");","        xhr.send(JSON.stringify({ data: encodedUri }));","","        csvCounter++;","    }","// ========================================================================================================","    // Function to extract the clothing type from the URL","    function extractClothingType(url) {","        var startIndex = url.lastIndexOf(\"/\") + 1; // Find the last index of \"/\"","        var endIndex = url.lastIndexOf(\"_\"); // Find the last index of \"_\"","        var clothingType = url.substring(startIndex, endIndex); // Extract the substring between \"/\" and \"_\"","        return clothingType;","    }","","    function handleColorSelection(clothingType) {","        selectedColor = document.getElementById(`colorDropdown_${clothingType}`).value;","        updateAdditionalOptionsVisibility();","    }","","    function handleCategorySelection(clothingType) {","        selectedCategory = document.getElementById(`categoryDropdown_${clothingType}`).value;","        // Handle the category selection here or perform any other necessary actions","    }","","    function resetDropdownValues() {","        selectedClothingType = \"\"; // Set default value for Clothing Type","        selectedColor = \"\";","        selectedCategory = \"\";","        document.getElementById(`colorDropdown_top`).value = \"\";","        document.getElementById(`categoryDropdown_top`).value = \"\";","    }","","    function updateAdditionalOptionsVisibility() {","        var additionalOptionsColorTop = document.getElementById('additionalOptions_color_top');","        var additionalOptionsCategoryTop = document.getElementById('additionalOptions_category_top');","","        if (selectedClothingType === \"top\") {","            additionalOptionsColorTop.style.display = \"block\";","            additionalOptionsCategoryTop.style.display = selectedColor ? \"block\" : \"none\";","        } else if (selectedClothingType === \"bottom\") {","            additionalOptionsColorTop.style.display = \"none\";","            additionalOptionsCategoryTop.style.display = \"none\";","        }","    }","","    // function exportToCSV(identifier) {","    //     // Remove the \".png\" extension from selectedClothingType","    //     var selectedClothingWithoutExtension = selectedClothingType.replace(/\\.[^.]+$/, \"\");","    ","    //     // Remove the \"_0\" suffix from selectedClothingWithoutExtension","    //     var selectedClothingWithoutSuffix = selectedClothingWithoutExtension.replace(/_\\d+$/, \"\");","    ","    //     var data = [","    //         [\"Clothing Type\", \"Color\", \"Category\"],","    //         [selectedClothingWithoutSuffix, selectedColor, selectedCategory]","    //     ];","    ","    //     var csvContent = \"data:text/csv;charset=utf-8,\";","    ","    //     data.forEach(function (rowArray) {","    //         var row = rowArray.join(\",\");","    //         csvContent += row + \"\\r\\n\";","    //     });","    ","    //     var encodedUri = encodeURI(csvContent);","","    //     var xhr = new XMLHttpRequest();","    //     xhr.onreadystatechange = function () {","    //         if (xhr.readyState === 4) {","    //             if (xhr.status === 200) {","    //                 console.log(\"CSV file saved successfully.\");","    //             } else {","    //                 console.error(\"Failed to save CSV file.\");","    //             }","    //         }","    //     };","","    //     xhr.open(\"POST\", \"/save-csv-new?identifier=\" + encodeURIComponent(identifier), true);","    //     xhr.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");","    //     xhr.send(JSON.stringify({ data: encodedUri }));","","    //     csvCounter++;","    // }","","","// 정상","//   var csvCounter = 1;","//     function exportToCSV(identifier) {","//         // Modify the Clothing Type based on Korean to English conversion","//         var selectedEnglishClothingType = koreanToEnglishClothing(selectedClothingType);","    ","//         var data = [","//             [\"Clothing Type\", \"Color\", \"Category\"],","//             [selectedEnglishClothingType, selectedColor, selectedCategory]","//         ];","    ","//         var csvContent = \"data:text/csv;charset=utf-8,\";","    ","//         data.forEach(function (rowArray) {","//             var row = rowArray.join(\",\");","//             csvContent += row + \"\\r\\n\";","//         });","    ","//         var encodedUri = encodeURI(csvContent);","    ","//         var xhr = new XMLHttpRequest();","//         xhr.onreadystatechange = function () {","//             if (xhr.readyState === 4) {","//                 if (xhr.status === 200) {","//                     console.log(\"CSV file saved successfully.\");","//                 } else {","//                     console.error(\"Failed to save CSV file.\");","//                 }","//             }","//         };","    ","//         xhr.open(\"POST\", \"/save-csv-new?identifier=\" + encodeURIComponent(identifier), true);","//         xhr.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");","//         xhr.send(JSON.stringify({ data: encodedUri }));","    ","//         csvCounter++;","//     }","    ","    // Add the koreanToEnglishClothing function here (from the previous response)","    function koreanToEnglishClothing(koreanCategory) {","        switch (koreanCategory) {","            case \"상 의\":","                return \"top\";","            case \"하 의\":","                return \"bottom\";","            case \"아우터\":","                return \"outwear\";","            case \"드레스\":","                return \"dress\";","            default:","                return \"\";","        }","    }","    ","    // Define a variable to store the selected value","    var selectedValue = \"\";","    ","    function handleSelection() {","        const dropdown = document.getElementById(\"mySelect\");","        selectedValue = dropdown.options[dropdown.selectedIndex].value;","        showImage(selectedValue);","    }","","</script>","","","","<section data-bs-version=\"5.1\" class=\"footer3 cid-s48P1Icc8J\" once=\"footers\" id=\"footer3-24\">","","    ","","    ","","    <div class=\"container\">","        <div class=\"media-container-row align-center mbr-white\">","            <div class=\"row row-links\">","                <ul class=\"foot-menu\">","                    ","                    ","                    ","                    ","                    ","                <li class=\"foot-menu-item mbr-fonts-style display-7\"><a href=\"/#top\" class=\"text-secondary\">Help Center</a></li></ul>","            </div>","            <div class=\"row social-row\">","                <div class=\"social-list align-right pb-2\">","                    ","                    ","                    ","                    ","                    ","                    ","                <div class=\"soc-item\">","                        <a href=\"https://twitter.com\" target=\"_blank\">","                            <span class=\"mbr-iconfont mbr-iconfont-social socicon-twitter socicon\"></span>","                        </a>","                    </div><div class=\"soc-item\">","                        <a href=\"https://www.facebook.com\" target=\"_blank\">","                            <span class=\"mbr-iconfont mbr-iconfont-social socicon-facebook socicon\"></span>","                        </a>","                    </div><div class=\"soc-item\">","                        <a href=\"https://www.youtube.com\" target=\"_blank\">","                            <span class=\"mbr-iconfont mbr-iconfont-social socicon-youtube socicon\"></span>","                        </a>","                    </div><div class=\"soc-item\">","                        <a href=\"https://instagram.com\" target=\"_blank\">","                            <span class=\"mbr-iconfont mbr-iconfont-social socicon-instagram socicon\"></span>","                        </a>","                    </div></div>","            </div>","            <div class=\"row row-copirayt\">","                <p class=\"mbr-text mb-0 mbr-fonts-style mbr-white align-center display-7\">","                    © Copyright 2023 COAI. All Rights Reserved.","                </p>","            </div>","        </div>","    </div>","</section><script src=\"static/bootstrap/js/bootstrap.bundle.min.js\"></script>  <script src=\"static/smoothscroll/smooth-scroll.js\"></script>  <script src=\"static/ytplayer/index.js\"></script>  <script src=\"static/dropdown/js/navbar-dropdown.js\"></script>  <script src=\"static/theme/js/script.js\"></script> ","","  "," <div id=\"scrollToTop\" class=\"scrollToTop mbr-arrow-up\"><a style=\"text-align: center;\"><i class=\"mbr-arrow-up-icon mbr-arrow-up-icon-cm cm-icon cm-icon-smallarrow-up\"></i></a></div>","    <input name=\"animation\" type=\"hidden\">","","  </body>","</html>"],"id":813}],[{"start":{"row":0,"column":0},"end":{"row":547,"column":7},"action":"insert","lines":["<!DOCTYPE html>","<html  >","<head>","","  <meta charset=\"UTF-8\">","  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">","  <meta name=\"generator\" content=\"Mobirise v5.8.14, mobirise.com\">","  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, minimum-scale=1\">","  <link rel=\"shortcut icon\" href=\"static/images/mojji-logo-3-223x228.png\" type=\"image/x-icon\">","  <meta name=\"description\" content=\"\">","  ","  ","  <title>사용자선택</title>","  <link rel=\"stylesheet\" href=\"static/bootstrap/css/bootstrap.min.css\">","  <link rel=\"stylesheet\" href=\"static/bootstrap/css/bootstrap-grid.min.css\">","  <link rel=\"stylesheet\" href=\"static/bootstrap/css/bootstrap-reboot.min.css\">","  <link rel=\"stylesheet\" href=\"static/animatecss/animate.css\">","  <link rel=\"stylesheet\" href=\"static/dropdown/css/style.css\">","  <link rel=\"stylesheet\" href=\"static/socicon/css/styles.css\">","  <link rel=\"stylesheet\" href=\"static/theme/css/style.css\">","  <link href=\"static/fonts/style.css\" rel=\"stylesheet\">","  <link rel=\"preload\" href=\"https://fonts.googleapis.com/css?family=Pangolin:400&display=swap\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\">","  <noscript><link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Pangolin:400&display=swap\"></noscript>","  <link rel=\"preload\" as=\"style\" href=\"static/mobirise/css/mbr-additional.css\"><link rel=\"stylesheet\" href=\"static/mobirise/css/mbr-additional.css\" type=\"text/css\">","  ","</head>","<body>","  ","  <section data-bs-version=\"5.1\" class=\"menu cid-s48OLK6784\" once=\"menu\" id=\"menu1-23\">","    ","    <nav class=\"navbar navbar-dropdown navbar-fixed-top navbar-expand-lg\">","        <div class=\"container-fluid\">","            <div class=\"navbar-brand\">","                <span class=\"navbar-logo\">","                    <a href=\"/\">","                        <img src=\"static/images/mojji-logo-3-223x228.webp\" alt=\"\" style=\"height: 3.8rem;\">","                    </a>","                </span>","                <span class=\"navbar-caption-wrap\"><a class=\"navbar-caption text-secondary display-1\" href=\"/\">MOJJI</a></span>","            </div>","            <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-bs-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">","                <div class=\"hamburger\">","                    <span></span>","                    <span></span>","                    <span></span>","                    <span></span>","                </div>","            </button>","            <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">","                <ul class=\"navbar-nav nav-dropdown nav-right\" data-app-modern-menu=\"true\"><li class=\"nav-item\"><a class=\"nav-link link text-black text-primary display-7\" href=\"/#top\">로그인</a></li>","                    <li class=\"nav-item\"><a class=\"nav-link link text-black text-primary display-7\" href=\"/#top\">회원가입</a></li></ul>","                ","                ","            </div>","        </div>","    </nav>","","</section>","","<section data-bs-version=\"5.1\" class=\"content1 cid-tKfhiB52DE\" id=\"content1-25\">","    <div class=\"container\">","        <div class=\"mbr-section-head\" style=\"margin-top: 100px; margin-bottom: 70px;\">","    <div class=\"container animate__animated animate__delay-1s animate__fadeInUp\" style=\"text-align: center;\">","            <h4 class=\"mbr-section-title mbr-fonts-style align-center mb-0 display-1 custom-heading\">","                <strong>✨MOJJI</strong>","            </h4>","            <h4 class=\"mbr-section-title mbr-fonts-style align-center mb-0 display-2 custom-heading\">","                <strong>분석 결과✨</strong>","            </h4>","            <h5 class=\"mbr-section-subtitle mbr-fonts-style align-center mb-0 mt-2 display-5\">분석 결과에 대해서 수정이 가능합니다.</h5>","        </div>","    ","      <br>","","<!-- ============================원본================================-->","    <!--<select id=\"mySelect\" onchange=\"handleSelection()\">-->","    <!--    <option value=\"default\">의류를 선택하세요</option>-->","    <!--    {% for image_name in image_names %}-->","    <!--        {% if \"short_sleeved_shirt\" in image_name or \"long_sleeved_shirt\" in image_name or \"vest\" in image_name or \"sling\" in image_name %}-->","    <!--            <option value=\"상 의\">상 의</option>-->","    <!--        {% elif \"shorts\" in image_name or \"trousers\" in image_name or \"skirt\" in image_name %}-->","    <!--            <option value=\"하 의\">하 의</option>-->","    <!--        {% elif \"short_sleeved_outwear\" in image_name or \"long_sleeved_outwear\" in image_name %}-->","    <!--            <option value=\"아우터\">아우터</option>-->","    <!--        {% else %}-->","    <!--            <option value=\"드레스\">드레스</option>-->","    <!--        {% endif %}-->","    <!--    {% endfor %}-->","    <!--</select>-->","<!--==---------------------------------------------------------------------->","        <select id=\"mySelect\" onchange=\"showImage()\">","            <option value=\"default\">의류를 선택하세요</option>","            {% for image_name in image_names %}","                {% set image_path = url_for('static', filename='images/mojji-output-img/' + directory_name + '/' + image_name + '.png') %}","                <option value=\"{{ image_path }}\">{{ image_name }}</option>","            {% endfor %}","        </select>","","","<!--############################################################################################################-->","<img id=\"myImage\" src=\"\" class=\"animate__animated animate__delay-1s animate__fadeInUp\" style=\"width: 15%;\">","","        <div class=\"container\" item-align=\"center\" style=\"margin-top: 50px; margin-bottom: 70px;\">","                <div class=\"item-wrapper\">","                    <div class=\"item-img\">","                         <div id=\"additionalOptions_color_top\">","                            <label for=\"colorDropdown_top\">","                                색상:","                                <select id=\"colorDropdown_top\" name=\"colorDropdown_top\" onchange=\"handleColorSelection('top')\">","                                    <option value=\"\">색상 선택</option>","                                    <option value=\"검정색\">검정색</option>","                                    <option value=\"흰색\">흰색</option>","                                    <option value=\"빨강\">빨강</option>","                                    <option value=\"주황\">주황</option>","                                    <option value=\"노랑\">노랑</option>","                                    <option value=\"초록\">초록</option>","                                    <option value=\"파랑\">파랑</option>","                                    <option value=\"네이비\">네이비</option>","                                    <option value=\"보라\">보라</option>","                                    <option value=\"연청\">연청</option>","                                    <option value=\"청\">청</option>","                                    <option value=\"진청\">진청</option>","                                    <option value=\"라이트 그린\">라이트 그린</option>","                                    <option value=\"카키\">카키</option>","                                    <option value=\"라이트 핑크\">라이트 핑크</option>","                                    <option value=\"핑크\">핑크</option>","                                    <option value=\"라벤더\">라벤더</option>","                                    <option value=\"퍼플\">퍼플</option>","                                    <option value=\"라이트 옐로우\">라이트 옐로우</option>","                                    <option value=\"머스타드\">머스타드</option>","                                    <option value=\"베이지\">베이지</option>","                                    <option value=\"브라운\">브라운</option>","                                    <option value=\"아이보리\">아이보리</option>","                                    <option value=\"라이트 오렌지\">라이트 오렌지</option>","                                    <option value=\"오렌지\">오렌지</option>","                                    <option value=\"라이트 카키\">라이트 카키</option>","                                    <option value=\"회색\">회색</option>","                                    <!-- Add more colors as needed -->","                                </select>","                            </label>","                            <div id=\"additionalOptions_category_top\">","                                <label for=\"categoryDropdown_top\">","                                    카테고리:","                                    <select id=\"categoryDropdown_top\" name=\"categoryDropdown_top\" onchange=\"handleCategorySelection('top')\">","                                        <option value=\"\">카테고리 선택</option>","                                        <option value=\"long_sleeved_shirt\">긴팔티셔츠</option>","                                        <option value=\"short_sleeved_shirt\">반팔티셔츠</option>","                                        <option value=\"vest\">조 끼</option>","                                        <option value=\"sling\">민소매</option>","                                        <option value=\"short_sleeved_outwear\">반팔아우터</option>","                                        <option value=\"long_sleeved_outwear\">긴팔아우터</option>","                                        <option value=\"shorts\">반바지</option>","                                        <option value=\"trousers\">긴바지</option>","                                        <option value=\"skirt\">치마</option>","                                        <option value=\"short_sleeved_dress\">미니원피스</option>","                                        <option value=\"long_sleeved_dress\">롱원피스</option>","                                        <option value=\"vest_dress\">조끼원피스</option>","                                        <option value=\"sling_dress\">민소매원피스</option>","                                        <!-- Add more categories as needed -->","                                    </select>","                                </label>","                            </div>","                        </div>","                    </div>","                </div>","            </div>","        </div>","        <div class=\"mbr-section-btn mt-3\" style=\"margin-bottom: 50px;\">","            <button class=\"btn btn-primary display-4\" onclick=\"exportToCSV('{{ identifier }}'); redirectToResult('{{ identifier }}');\">제 출</button>","        </div>","        <script>","        function redirectToResult() {","            var identifier = \"{{ identifier }}\";  // Retrieve the identifier from Flask template variable","        ","            // Construct the URL with the current identifier","            var url = '/result?identifier=' + encodeURIComponent(identifier);","        ","            // Redirect to the result page with the identifier as a query parameter","            window.location.href = url;","        }","        </script>","    </div>","</section>","","<script>","// ============================= rin_test ====================================","    function showImage() {","        var selectBox = document.getElementById(\"mySelect\");","        var selectedValue = selectBox.options[selectBox.selectedIndex].value;","        var image = document.getElementById(\"myImage\");","    ","        // Save the selected value to the global variable","        selectedClothingType = selectedValue;","    ","        if (selectedValue === \"default\") {","            image.src = \"\"; // Default image URL","        } else {","            // Get the identifier from the current URL and remove the file extension","            var urlParams = new URLSearchParams(window.location.search);","            var identifier = urlParams.get(\"identifier\").replace(/\\.[^/.]+$/, \"\");","    ","            // Construct the imageURL using the identifier and selectedValue","            var imageURL = selectedValue;","            image.src = imageURL;","    ","            // Get the English term for the selected clothing type","            var selectedClothingWithoutExtension = selectedValue.replace(/\\.[^.]+$/, \"\");","            var selectedClothingWithoutSuffix = selectedClothingWithoutExtension.replace(/_\\d+$/, \"\");","            selectedCategory = getCategoryAndEnglishTerm(selectedClothingWithoutSuffix);","    ","            // Update the category dropdown options based on selected clothing type","            updateCategoryDropdownOptions(selectedValue);","        }","    }","// ===============================================================================","// =========================== test zone ==========================================","    // var selectedClothingType = \"\";","    // var selectedColor = \"\";","    // var selectedCategory = \"\";","    ","    // function showImage() {","    //     var selectBox = document.getElementById(\"mySelect\");","    //     var selectedValue = selectBox.options[selectBox.selectedIndex].value;","    //     var image = document.getElementById(\"myImage\");","    ","    //     // Save the selected value to the global variable","    //     selectedClothingType = selectedValue;","    ","    //     if (selectedValue === \"default\") {","    //         image.src = \"\"; // Default image URL","    //     } else {","    //         // Get the identifier from the current URL and remove the file extension","    //         var urlParams = new URLSearchParams(window.location.search);","    //         var identifier = urlParams.get(\"identifier\").replace(/\\.[^/.]+$/, \"\");","    ","    //         // Construct the imageURL using the identifier and selectedValue","    //         var imageURL = `${selectedValue}`;","    //         image.src = imageURL;","    ","    //         // Update the category dropdown options based on selected clothing type","    //         updateCategoryDropdownOptions(selectedValue);","    //     }","    // }","// ============================= 원본 ========================================","    // var selectedClothingType = \"\";","    // var selectedColor = \"\";","    // var selectedCategory = \"\";","","    // function showImage(category) {","    //     var image = document.getElementById(\"myImage\");","    //     var identifier = \"{{ identifier }}\";  // Retrieve the identifier from Flask template variable","        ","    //     // Modify the selectedClothingType based on the category received","    //     selectedClothingType = category;","    //     var selectedEnglishClothingType = koreanToEnglishClothing(selectedClothingType);","","    //     if (category === \"default\") {","    //         image.src = \"\"; // Default image URL","    //     } else {","    //         // Get the identifier from the current URL and remove the file extension","    //         var urlParams = new URLSearchParams(window.location.search);","    //         var identifier = urlParams.get(\"identifier\").replace(/\\.[^/.]+$/, \"\");","    //         // Assuming directory_name and image_name are defined and contain valid values","    //         // var directory_name = \"your_directory_name\"; // Replace \"your_directory_name\" with the actual directory name","    //         var urlParams = new URLSearchParams(window.location.search);","    // //         var identifier = urlParams.get(\"identifier\").replace(/\\.[^/.]+$/, \"\");","    //         var image_name = \"long_sleeved_outwear_0\"; // Replace \"your_image_name\" with the actual image name without the extension","            ","    //         // // Construct the imageURL using the identifier and selectedValue","    //         var imageURL = \"{{ url_for('static', filename='images/mojji-output-img/after_detection_') }}\" + identifier + '/' + image_name + '.png';","    //         image.src = imageURL;","    //     }","    // }","    ","// =================================================rin test zone====================","","    // Convert the Python list `image_names` to a JavaScript array","    var image_names = {{ image_names | tojson }};","","    // Define a function to get the category and English term for a given clothing type","    function getCategoryAndEnglishTerm(clothingType) {","        var categories = {","            \"short_sleeved_shirt\": { category: \"상 의\", englishTerm: \"top\" },","            \"long_sleeved_shirt\": { category: \"상 의\", englishTerm: \"top\" },","            \"vest\": { category: \"상 의\", englishTerm: \"top\" },","            \"sling\": { category: \"상 의\", englishTerm: \"top\" },","            \"shorts\": { category: \"하 의\", englishTerm: \"bottom\" },","            \"trousers\": { category: \"하 의\", englishTerm: \"bottom\" },","            \"skirt\": { category: \"하 의\", englishTerm: \"bottom\" },","            \"short_sleeved_outwear\": { category: \"아우터\", englishTerm: \"outwear\" },","            \"long_sleeved_outwear\": { category: \"아우터\", englishTerm: \"outwear\" },","        };","","        // Check if the clothingType exists in the categories object","        if (clothingType in categories) {","            return categories[clothingType].englishTerm;","        } else {","            // If the clothingType is not found, assume it's a dress","            return \"dress\";","        }","    }","","    function exportToCSV(identifier) {","        // Remove the \".png\" extension from selectedClothingType","        var selectedClothingWithoutExtension = selectedClothingType.replace(/\\.[^.]+$/, \"\");","    ","        // Remove the \"_0\" suffix from selectedClothingWithoutExtension","        var selectedClothingWithoutSuffix = selectedClothingWithoutExtension.replace(/_\\d+$/, \"\");","    ","        // Get the English term for the selected clothing type","        var selectedEnglishClothingType = getCategoryAndEnglishTerm(selectedClothingWithoutSuffix);","    ","        var data = [","            [\"Clothing Type\", \"Color\", \"Category\"],","            [selectedEnglishClothingType, selectedColor, selectedCategory]","        ];","    ","        var csvContent = \"data:text/csv;charset=utf-8,\";","    ","        data.forEach(function (rowArray) {","            var row = rowArray.join(\",\");","            csvContent += row + \"\\r\\n\";","        });","    ","        var encodedUri = encodeURI(csvContent);","","        var xhr = new XMLHttpRequest();","        xhr.onreadystatechange = function () {","            if (xhr.readyState === 4) {","                if (xhr.status === 200) {","                    console.log(\"CSV file saved successfully.\");","                } else {","                    console.error(\"Failed to save CSV file.\");","                }","            }","        };","","        xhr.open(\"POST\", \"/save-csv-new?identifier=\" + encodeURIComponent(identifier), true);","        xhr.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");","        xhr.send(JSON.stringify({ data: encodedUri }));","","        csvCounter++;","    }","// ========================================================================================================","    // Function to extract the clothing type from the URL","    function extractClothingType(url) {","        var startIndex = url.lastIndexOf(\"/\") + 1; // Find the last index of \"/\"","        var endIndex = url.lastIndexOf(\"_\"); // Find the last index of \"_\"","        var clothingType = url.substring(startIndex, endIndex); // Extract the substring between \"/\" and \"_\"","        return clothingType;","    }","","    function handleColorSelection(clothingType) {","        selectedColor = document.getElementById(`colorDropdown_${clothingType}`).value;","        updateAdditionalOptionsVisibility();","    }","","    function handleCategorySelection(clothingType) {","        selectedCategory = document.getElementById(`categoryDropdown_${clothingType}`).value;","        // Handle the category selection here or perform any other necessary actions","    }","","    function resetDropdownValues() {","        selectedClothingType = \"\"; // Set default value for Clothing Type","        selectedColor = \"\";","        selectedCategory = \"\";","        document.getElementById(`colorDropdown_top`).value = \"\";","        document.getElementById(`categoryDropdown_top`).value = \"\";","    }","","    function updateAdditionalOptionsVisibility() {","        var additionalOptionsColorTop = document.getElementById('additionalOptions_color_top');","        var additionalOptionsCategoryTop = document.getElementById('additionalOptions_category_top');","","        if (selectedClothingType === \"top\") {","            additionalOptionsColorTop.style.display = \"block\";","            additionalOptionsCategoryTop.style.display = selectedColor ? \"block\" : \"none\";","        } else if (selectedClothingType === \"bottom\") {","            additionalOptionsColorTop.style.display = \"none\";","            additionalOptionsCategoryTop.style.display = \"none\";","        }","    }","","    // function exportToCSV(identifier) {","    //     // Remove the \".png\" extension from selectedClothingType","    //     var selectedClothingWithoutExtension = selectedClothingType.replace(/\\.[^.]+$/, \"\");","    ","    //     // Remove the \"_0\" suffix from selectedClothingWithoutExtension","    //     var selectedClothingWithoutSuffix = selectedClothingWithoutExtension.replace(/_\\d+$/, \"\");","    ","    //     var data = [","    //         [\"Clothing Type\", \"Color\", \"Category\"],","    //         [selectedClothingWithoutSuffix, selectedColor, selectedCategory]","    //     ];","    ","    //     var csvContent = \"data:text/csv;charset=utf-8,\";","    ","    //     data.forEach(function (rowArray) {","    //         var row = rowArray.join(\",\");","    //         csvContent += row + \"\\r\\n\";","    //     });","    ","    //     var encodedUri = encodeURI(csvContent);","","    //     var xhr = new XMLHttpRequest();","    //     xhr.onreadystatechange = function () {","    //         if (xhr.readyState === 4) {","    //             if (xhr.status === 200) {","    //                 console.log(\"CSV file saved successfully.\");","    //             } else {","    //                 console.error(\"Failed to save CSV file.\");","    //             }","    //         }","    //     };","","    //     xhr.open(\"POST\", \"/save-csv-new?identifier=\" + encodeURIComponent(identifier), true);","    //     xhr.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");","    //     xhr.send(JSON.stringify({ data: encodedUri }));","","    //     csvCounter++;","    // }","","","// 정상","//   var csvCounter = 1;","//     function exportToCSV(identifier) {","//         // Modify the Clothing Type based on Korean to English conversion","//         var selectedEnglishClothingType = koreanToEnglishClothing(selectedClothingType);","    ","//         var data = [","//             [\"Clothing Type\", \"Color\", \"Category\"],","//             [selectedEnglishClothingType, selectedColor, selectedCategory]","//         ];","    ","//         var csvContent = \"data:text/csv;charset=utf-8,\";","    ","//         data.forEach(function (rowArray) {","//             var row = rowArray.join(\",\");","//             csvContent += row + \"\\r\\n\";","//         });","    ","//         var encodedUri = encodeURI(csvContent);","    ","//         var xhr = new XMLHttpRequest();","//         xhr.onreadystatechange = function () {","//             if (xhr.readyState === 4) {","//                 if (xhr.status === 200) {","//                     console.log(\"CSV file saved successfully.\");","//                 } else {","//                     console.error(\"Failed to save CSV file.\");","//                 }","//             }","//         };","    ","//         xhr.open(\"POST\", \"/save-csv-new?identifier=\" + encodeURIComponent(identifier), true);","//         xhr.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");","//         xhr.send(JSON.stringify({ data: encodedUri }));","    ","//         csvCounter++;","//     }","    ","    // Add the koreanToEnglishClothing function here (from the previous response)","    function koreanToEnglishClothing(koreanCategory) {","        switch (koreanCategory) {","            case \"상 의\":","                return \"top\";","            case \"하 의\":","                return \"bottom\";","            case \"아우터\":","                return \"outwear\";","            case \"드레스\":","                return \"dress\";","            default:","                return \"\";","        }","    }","    ","    // Define a variable to store the selected value","    var selectedValue = \"\";","    ","    function handleSelection() {","        const dropdown = document.getElementById(\"mySelect\");","        selectedValue = dropdown.options[dropdown.selectedIndex].value;","        showImage(selectedValue);","    }","","</script>","","","","<section data-bs-version=\"5.1\" class=\"footer3 cid-s48P1Icc8J\" once=\"footers\" id=\"footer3-24\">","","    ","","    ","","    <div class=\"container\">","        <div class=\"media-container-row align-center mbr-white\">","            <div class=\"row row-links\">","                <ul class=\"foot-menu\">","                    ","                    ","                    ","                    ","                    ","                <li class=\"foot-menu-item mbr-fonts-style display-7\"><a href=\"/#top\" class=\"text-secondary\">Help Center</a></li></ul>","            </div>","            <div class=\"row social-row\">","                <div class=\"social-list align-right pb-2\">","                    ","                    ","                    ","                    ","                    ","                    ","                <div class=\"soc-item\">","                        <a href=\"https://twitter.com\" target=\"_blank\">","                            <span class=\"mbr-iconfont mbr-iconfont-social socicon-twitter socicon\"></span>","                        </a>","                    </div><div class=\"soc-item\">","                        <a href=\"https://www.facebook.com\" target=\"_blank\">","                            <span class=\"mbr-iconfont mbr-iconfont-social socicon-facebook socicon\"></span>","                        </a>","                    </div><div class=\"soc-item\">","                        <a href=\"https://www.youtube.com\" target=\"_blank\">","                            <span class=\"mbr-iconfont mbr-iconfont-social socicon-youtube socicon\"></span>","                        </a>","                    </div><div class=\"soc-item\">","                        <a href=\"https://instagram.com\" target=\"_blank\">","                            <span class=\"mbr-iconfont mbr-iconfont-social socicon-instagram socicon\"></span>","                        </a>","                    </div></div>","            </div>","            <div class=\"row row-copirayt\">","                <p class=\"mbr-text mb-0 mbr-fonts-style mbr-white align-center display-7\">","                    © Copyright 2023 COAI. All Rights Reserved.","                </p>","            </div>","        </div>","    </div>","</section><script src=\"static/bootstrap/js/bootstrap.bundle.min.js\"></script>  <script src=\"static/smoothscroll/smooth-scroll.js\"></script>  <script src=\"static/ytplayer/index.js\"></script>  <script src=\"static/dropdown/js/navbar-dropdown.js\"></script>  <script src=\"static/theme/js/script.js\"></script> ","","  "," <div id=\"scrollToTop\" class=\"scrollToTop mbr-arrow-up\"><a style=\"text-align: center;\"><i class=\"mbr-arrow-up-icon mbr-arrow-up-icon-cm cm-icon cm-icon-smallarrow-up\"></i></a></div>","    <input name=\"animation\" type=\"hidden\">","","  </body>","</html>"],"id":814}],[{"start":{"row":168,"column":147},"end":{"row":169,"column":115},"action":"insert","lines":["","            <button class=\"btn btn-primary display-4\" onclick=\"exportAndRedirect('{{ identifier }}');\">제 출</button>"],"id":815,"ignore":true}],[{"start":{"row":169,"column":106},"end":{"row":169,"column":107},"action":"insert","lines":["2"],"id":816,"ignore":true}],[{"start":{"row":170,"column":14},"end":{"row":174,"column":38},"action":"insert","lines":["","        ","        <!--##################-->","        ","        <!--#######################-->"],"id":817,"ignore":true}],[{"start":{"row":172,"column":17},"end":{"row":172,"column":23},"action":"insert","lines":["버튼 테스트"],"id":818,"ignore":true},{"start":{"row":173,"column":8},"end":{"row":192,"column":0},"action":"insert","lines":["<script>","    function exportAndRedirect(identifier) {","        // Call the exportToCSV function to export the CSV","        exportToCSV(identifier);","        ","        // Call the redirectToResult function to redirect to the result page","        redirectToResult(identifier);","    }","","    function redirectToResult(identifier) {","        // Construct the URL with the current identifier","        var url = '/result?identifier=' + encodeURIComponent(identifier);","        ","        // Redirect to the result page with the identifier as a query parameter","        window.location.href = url;","    }","","    // ... (your existing JavaScript code)","</script>",""]}],[{"start":{"row":176,"column":8},"end":{"row":176,"column":11},"action":"insert","lines":["   "],"id":819,"ignore":true}],[{"start":{"row":176,"column":11},"end":{"row":176,"column":12},"action":"insert","lines":[" "],"id":820,"ignore":true}],[{"start":{"row":179,"column":8},"end":{"row":179,"column":10},"action":"insert","lines":["  "],"id":821,"ignore":true}],[{"start":{"row":179,"column":10},"end":{"row":179,"column":12},"action":"insert","lines":["  "],"id":822,"ignore":true}],[{"start":{"row":172,"column":0},"end":{"row":193,"column":38},"action":"remove","lines":["        <!--#####버튼 테스트#############-->","        <script>","    function exportAndRedirect(identifier) {","        // Call the exportToCSV function to export the CSV","            exportToCSV(identifier);","        ","        // Call the redirectToResult function to redirect to the result page","            redirectToResult(identifier);","    }","","    function redirectToResult(identifier) {","        // Construct the URL with the current identifier","        var url = '/result?identifier=' + encodeURIComponent(identifier);","        ","        // Redirect to the result page with the identifier as a query parameter","        window.location.href = url;","    }","","    // ... (your existing JavaScript code)","</script>","","        <!--#######################-->"],"id":823,"ignore":true}],[{"start":{"row":171,"column":8},"end":{"row":172,"column":0},"action":"remove","lines":["",""],"id":824,"ignore":true}],[{"start":{"row":169,"column":0},"end":{"row":170,"column":0},"action":"remove","lines":["            <button class=\"btn btn-primary display-4\" onclick=\"exportAndRedirect('{{ identifier }}');\">제 출2</button>",""],"id":825,"ignore":true}],[{"start":{"row":217,"column":4},"end":{"row":217,"column":7},"action":"remove","lines":["// "],"id":826},{"start":{"row":218,"column":4},"end":{"row":218,"column":7},"action":"remove","lines":["// "]},{"start":{"row":219,"column":4},"end":{"row":219,"column":7},"action":"remove","lines":["// "]}],[{"start":{"row":180,"column":9},"end":{"row":181,"column":0},"action":"insert","lines":["",""],"id":827},{"start":{"row":181,"column":0},"end":{"row":181,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":181,"column":4},"end":{"row":181,"column":8},"action":"remove","lines":["    "],"id":828},{"start":{"row":181,"column":0},"end":{"row":181,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":181,"column":0},"end":{"row":182,"column":0},"action":"insert","lines":["",""],"id":829}],[{"start":{"row":181,"column":0},"end":{"row":182,"column":0},"action":"remove","lines":["",""],"id":831},{"start":{"row":180,"column":9},"end":{"row":181,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":217,"column":4},"end":{"row":217,"column":7},"action":"insert","lines":["// "],"id":832},{"start":{"row":218,"column":4},"end":{"row":218,"column":7},"action":"insert","lines":["// "]},{"start":{"row":219,"column":4},"end":{"row":219,"column":7},"action":"insert","lines":["// "]}],[{"start":{"row":186,"column":78},"end":{"row":187,"column":0},"action":"insert","lines":["",""],"id":833}],[{"start":{"row":187,"column":0},"end":{"row":187,"column":4},"action":"insert","lines":["    "],"id":835}],[{"start":{"row":187,"column":4},"end":{"row":187,"column":34},"action":"insert","lines":["var selectedClothingType = \"\";"],"id":836}],[{"start":{"row":187,"column":34},"end":{"row":188,"column":0},"action":"insert","lines":["",""],"id":837},{"start":{"row":188,"column":0},"end":{"row":188,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":192,"column":55},"end":{"row":193,"column":0},"action":"insert","lines":["",""],"id":839},{"start":{"row":193,"column":0},"end":{"row":193,"column":8},"action":"insert","lines":["        "]},{"start":{"row":193,"column":8},"end":{"row":194,"column":0},"action":"insert","lines":["",""]},{"start":{"row":194,"column":0},"end":{"row":194,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":194,"column":8},"end":{"row":196,"column":55},"action":"insert","lines":["var selectBox = document.getElementById(\"mySelect\");","        var selectedValue = selectBox.options[selectBox.selectedIndex].value;","        var image = document.getElementById(\"myImage\");"],"id":840}],[{"start":{"row":193,"column":8},"end":{"row":196,"column":55},"action":"remove","lines":["","        var selectBox = document.getElementById(\"mySelect\");","        var selectedValue = selectBox.options[selectBox.selectedIndex].value;","        var image = document.getElementById(\"myImage\");"],"id":841},{"start":{"row":193,"column":4},"end":{"row":193,"column":8},"action":"remove","lines":["    "]}],[{"start":{"row":193,"column":0},"end":{"row":193,"column":4},"action":"remove","lines":["    "],"id":842},{"start":{"row":192,"column":55},"end":{"row":193,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":168,"column":0},"end":{"row":171,"column":16},"action":"remove","lines":["            <button class=\"btn btn-primary display-4\" onclick=\"exportToCSV('{{ identifier }}'); redirectToResult('{{ identifier }}');\">제 출</button>","        </div>","        ","        <script>"],"id":843,"ignore":true},{"start":{"row":168,"column":0},"end":{"row":173,"column":16},"action":"insert","lines":["        <!--    <button class=\"btn btn-primary display-4\" onclick=\"exportToCSV(); window.location.href='/result';\">제출</button>-->","        <!--</div>-->","        <div class=\"mbr-section-btn mt-3\" style=\"margin-bottom: 50px;\">","            <button class=\"btn btn-primary display-4\" onclick=\"exportToCSV('{{ identifier }}'); redirectToResult();\">제 출</button>","        </div>","        <script>"]}],[{"start":{"row":196,"column":8},"end":{"row":201,"column":16},"action":"remove","lines":["// Save the selected value to the global variable","        selectedClothingType = selectedValue;","    ","        if (selectedValue === \"default\") {","            image.src = \"\"; // Default image URL","        } else {"],"id":844},{"start":{"row":196,"column":4},"end":{"row":196,"column":8},"action":"remove","lines":["    "]},{"start":{"row":196,"column":0},"end":{"row":196,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":196,"column":0},"end":{"row":201,"column":16},"action":"insert","lines":["// Save the selected value to the global variable","        selectedClothingType = selectedValue;","","        if (selectedValue === \"default\") {","            image.src = \"\"; // Default image URL","        } else {"],"id":845}],[{"start":{"row":201,"column":16},"end":{"row":201,"column":20},"action":"insert","lines":["    "],"id":846}],[{"start":{"row":196,"column":0},"end":{"row":196,"column":4},"action":"insert","lines":["    "],"id":847}],[{"start":{"row":196,"column":4},"end":{"row":196,"column":8},"action":"insert","lines":["    "],"id":848}],[{"start":{"row":168,"column":0},"end":{"row":173,"column":16},"action":"remove","lines":["        <!--    <button class=\"btn btn-primary display-4\" onclick=\"exportToCSV(); window.location.href='/result';\">제출</button>-->","        <!--</div>-->","        <div class=\"mbr-section-btn mt-3\" style=\"margin-bottom: 50px;\">","            <button class=\"btn btn-primary display-4\" onclick=\"exportToCSV('{{ identifier }}'); redirectToResult();\">제 출</button>","        </div>","        <script>"],"id":849,"ignore":true},{"start":{"row":168,"column":0},"end":{"row":171,"column":16},"action":"insert","lines":["            <button class=\"btn btn-primary display-4\" onclick=\"exportToCSV('{{ identifier }}'); redirectToResult('{{ identifier }}');\">제 출</button>","        </div>","        ","        <script>"]}],[{"start":{"row":167,"column":0},"end":{"row":169,"column":14},"action":"remove","lines":["        <div class=\"mbr-section-btn mt-3\" style=\"margin-bottom: 50px;\">","            <button class=\"btn btn-primary display-4\" onclick=\"exportToCSV('{{ identifier }}'); redirectToResult('{{ identifier }}');\">제 출</button>","        </div>"],"id":850,"ignore":true},{"start":{"row":167,"column":0},"end":{"row":169,"column":14},"action":"insert","lines":["       <div class=\"mbr-section-btn mt-3\" style=\"margin-bottom: 50px;\">","            <button class=\"btn btn-primary display-4\" onclick=\"exportToCSV('{{ identifier }}'); redirectToResult();\">제 출</button>","        </div>"]}],[{"start":{"row":167,"column":0},"end":{"row":169,"column":14},"action":"remove","lines":["       <div class=\"mbr-section-btn mt-3\" style=\"margin-bottom: 50px;\">","            <button class=\"btn btn-primary display-4\" onclick=\"exportToCSV('{{ identifier }}'); redirectToResult();\">제 출</button>","        </div>"],"id":851,"ignore":true},{"start":{"row":167,"column":0},"end":{"row":169,"column":14},"action":"insert","lines":["        <div class=\"mbr-section-btn mt-3\" style=\"margin-bottom: 50px;\">","            <button class=\"btn btn-primary display-4\" onclick=\"exportToCSV('{{ identifier }}'); redirectToResult('{{ identifier }}');\">제 출</button>","        </div>"]}],[{"start":{"row":307,"column":92},"end":{"row":308,"column":0},"action":"insert","lines":["",""],"id":852},{"start":{"row":308,"column":0},"end":{"row":308,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":306,"column":8},"end":{"row":307,"column":0},"action":"insert","lines":["",""],"id":855},{"start":{"row":307,"column":0},"end":{"row":307,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":306,"column":8},"end":{"row":307,"column":0},"action":"insert","lines":["",""],"id":857},{"start":{"row":307,"column":0},"end":{"row":307,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":306,"column":8},"end":{"row":306,"column":88},"action":"insert","lines":["var selectedEnglishClothingType = koreanToEnglishClothing(selectedClothingType);"],"id":858}],[{"start":{"row":168,"column":147},"end":{"row":169,"column":122},"action":"insert","lines":["","            <button class=\"btn btn-primary display-4\" onclick=\"exportToCSV(); window.location.href='/result';\">제출</button>"],"id":859,"ignore":true}],[{"start":{"row":169,"column":0},"end":{"row":170,"column":0},"action":"remove","lines":["            <button class=\"btn btn-primary display-4\" onclick=\"exportToCSV(); window.location.href='/result';\">제출</button>",""],"id":860,"ignore":true}],[{"start":{"row":304,"column":0},"end":{"row":304,"column":4},"action":"insert","lines":["    "],"id":864}],[{"start":{"row":304,"column":4},"end":{"row":304,"column":23},"action":"insert","lines":["var csvCounter = 1;"],"id":865}],[{"start":{"row":304,"column":23},"end":{"row":305,"column":0},"action":"insert","lines":["",""],"id":866},{"start":{"row":305,"column":0},"end":{"row":305,"column":4},"action":"insert","lines":["    "]}]]},"ace":{"folds":[],"scrolltop":4402.2882080078125,"scrollleft":0,"selection":{"start":{"row":295,"column":0},"end":{"row":295,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":274,"state":"js-no_regex","mode":"ace/mode/html"}},"timestamp":1689922745197,"hash":"45a8dbbfe2e3f74c0eb9cac9e231bc828bcdd938"}